(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{365:function(e,t,a){"use strict";a.r(t);var o=a(32),s=Object(o.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#hardware-compatibility"}},[e._v("Hardware compatibility")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[e._v("Converting existing servers")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#activation"}},[e._v("Activation")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#installing-new-servers"}},[e._v("Installing new servers")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#cloudlinux-os-shared-images"}},[e._v("CloudLinux OS Shared images")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#net-install"}},[e._v("Net install")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#provider-specific-guidelines"}},[e._v("Provider-specific guidelines")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#lilo-boot-loader"}},[e._v("LILO boot loader")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#upgrade-between-major-distributions-elevation-beta"}},[e._v("Upgrade between major distributions (Elevation) [beta]")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#uninstalling"}},[e._v("Uninstalling")])],1)]),e._v(" "),a("h3",{attrs:{id:"hardware-compatibility"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hardware-compatibility","aria-hidden":"true"}},[e._v("#")]),e._v(" Hardware compatibility")]),e._v(" "),a("p",[e._v("CloudLinux OS Shared supports all the hardware supported by RHEL/CentOS/AlmaLinux, with few exceptions. Exceptions are usually hardware that require binary drivers, and that doesn't have any open source alternatives.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("CloudLinux OS Shared does not support ARM-based CPUs (e.g. Graviton).")])]),a("p",[e._v("There are some incompatible devices with "),a("strong",[e._v("CL6")]),e._v(":")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th"),e._v(" "),a("th"),e._v(" "),a("th")])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[e._v("Device")])]),e._v(" "),a("td",[a("strong",[e._v("Binary Driver")])]),e._v(" "),a("td",[a("strong",[e._v("Source")])])]),e._v(" "),a("tr",[a("td",[a("span",{staticClass:"notranslate"},[e._v(" B110i Smart Array RAID controller ")])]),e._v(" "),a("td",[e._v("hpahcisr")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://h20000.www2.hp.com/bizsupport/TechSupport/Document.jsp?objectID=c01732801",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://h10032.www1.hp.com/ctg/Manual/c01754456"),a("OutboundLink")],1)])]),e._v(" "),a("tr",[a("td",[a("span",{staticClass:"notranslate"},[e._v(" B120i/B320i Smart Array SATA RAID Controller ")])]),e._v(" "),a("td",[e._v("hpvsa")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://h20000.www2.hp.com/bizsupport/TechSupport/Document.jsp?objectID=c01732801",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www8.hp.com/h20195/v2/GetPDF.aspx/c04168333.pdf"),a("OutboundLink")],1)])]),e._v(" "),a("tr",[a("td",[a("span",{staticClass:"notranslate"},[e._v(" SanDisk DAS Cache ")])]),e._v(" "),a("td"),e._v(" "),a("td",[a("a",{attrs:{href:"https://www.dell.com/en-us/work/learn/server-technology-components-caching",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.dell.com/en-us/work/learn/server-technology-components-caching"),a("OutboundLink")],1)])])])]),e._v(" "),a("p",[e._v("With RHEL8 ("),a("strong",[e._v("CloudLinux OS Shared 8/CloudLinux OS Shared 7 Hybrid")]),e._v("), some devices are no longer supported.\nYou can check the entire list here: "),a("a",{attrs:{href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/considerations_in_adopting_rhel_8/hardware-enablement_considerations-in-adopting-rhel-8#removed-hardware-support_hardware-enablement",target:"_blank",rel:"noopener noreferrer"}},[e._v("Hardware enablement considerations in adopting RHEL 8"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"converting-existing-servers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#converting-existing-servers","aria-hidden":"true"}},[e._v("#")]),e._v(" Converting existing servers")]),e._v(" "),a("p",[e._v("It is easy to convert your existing CentOS or AlmaLinux server to CloudLinux OS Shared. The process takes a few minutes and replaces just a handful of RPMs.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Supported OS for conversion:")]),a("ul",[a("li",[e._v("CentOS 7")]),e._v(" "),a("li",[e._v("AlmaLinux OS 8")]),e._v(" "),a("li",[e._v("RockyLinux (installation only, no uninstall option)")])])]),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Unsupported OS for conversion:")]),a("ul",[a("li",[e._v("CentOS 8")]),e._v(" "),a("li",[e._v("CentOS Stream")])])]),a("p",[e._v("CentOS 8 reached End Of Life (EOL) on December 31st, 2021.\nIf you would like to convert from CentOS 8 to CloudLinux OS 8, do the following:")]),e._v(" "),a("ul",[a("li",[e._v("Convert CentOS 8 to AlmaLinux 8 using "),a("a",{attrs:{href:"https://github.com/AlmaLinux/almalinux-deploy",target:"_blank",rel:"noopener noreferrer"}},[e._v("almalinux-deploy"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Convert AlmaLinux 8 to CloudLinux 8 using "),a("RouterLink",{attrs:{to:"/cloudlinux_installation/#cldeploy-explained"}},[e._v("cldeploy")])],1)]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Supported control panels:")]),a("ul",[a("li",[e._v("cPanel ("),a("a",{attrs:{href:"https://docs.cpanel.net/installation-guide/system-requirements-cloudlinux/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Documentation"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[e._v("Plesk")]),e._v(" "),a("li",[e._v("DirectAdmin")]),e._v(" "),a("li",[e._v("CyberPanel ("),a("a",{attrs:{href:"https://community.cyberpanel.net/t/1-convert-cyberpanel-to-cloudlinux-os-and-install-cagefs/174",target:"_blank",rel:"noopener noreferrer"}},[e._v("Documentation"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[e._v("InterWorx ("),a("a",{attrs:{href:"https://appendix.interworx.com/current/nodeworx/plugins/install-use-cloudlinux-plugin-interworx.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Documentation"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[e._v("Webuzo ("),a("a",{attrs:{href:"https://webuzo.com/docs/installing-webuzo/install-cloudlinux-os/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Documentation"),a("OutboundLink")],1),e._v(")")])])]),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Other control panels:")]),a("p",[e._v("Control panels not mentioned in the list of supported panels have native integration or integration by the developer of such a panel.\nWe cannot guarantee the stability or correct operation of CloudLinux components on such panels.")])]),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Warning:")]),a("p",[e._v("Some CloudLinux components may not be supported by the control panel itself or the control panel has its own analog of such a component.\nYou can verify this information when reviewing the system requirements for installing a particular CloudLinux component.")])]),a("hr"),e._v(" "),a("ul",[a("li",[a("p",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#cldeploy-explained"}},[e._v("cldeploy conversion script explained")]),e._v(".")],1)]),e._v(" "),a("li",[a("p",[e._v("Get "),a("span",{staticClass:"notranslate"},[a("code",[e._v("<activation_key>")])]),e._v(" either by getting "),a("RouterLink",{attrs:{to:"/cloudlinux_installation/#getting-trial-license"}},[e._v("trial subscription")]),e._v(" or by "),a("a",{attrs:{href:"https://cln.cloudlinux.com/clweb/buy.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("purchasing subscription"),a("OutboundLink")],1),e._v(".")],1)]),e._v(" "),a("li",[a("p",[e._v("Run the following commands in order to download conversion script and run the installation:")])])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ wget https://repo.cloudlinux.com/cloudlinux/sources/cln/cldeploy\n$ sh cldeploy -k <activation_key>\n")])])])]),e._v(" "),a("ul",[a("li",[e._v("If you have an IP-based license, run the following commands:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ sh cldeploy -i\n")])])])]),e._v(" "),a("ul",[a("li",[e._v("If there aren't any errors during the conversion - reboot your server by running the following command:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ reboot\n")])])])]),e._v(" "),a("p",[e._v("Once you reboot - your server should be running with CloudLinux OS LVE kernel.")]),e._v(" "),a("p",[e._v("You may check the booted kernel with the following command:")]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ uname -r\n")])])])]),e._v(" "),a("ul",[a("li",[e._v("For CloudLinux OS Shared 6 — (RHEL) 2.6 kernel")]),e._v(" "),a("li",[e._v("For CloudLinux OS Shared 6 hybrid — (RHEL) 3.10 kernel")]),e._v(" "),a("li",[e._v("For CloudLinux OS Shared 7 — (RHEL) 3.10 kernel")]),e._v(" "),a("li",[e._v("For CloudLinux OS Shared 7 hybrid —  (RHEL) 4.18 kernel")]),e._v(" "),a("li",[e._v("For CloudLinux OS Shared 8 —  CloudLinux OS Shared 8 follows the upstream (RHEL) 4.18 kernel mainline.\nAll CloudLinux-specific features are added as a separate module (kmod-lve).")])]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("If after rebooting you do not see the CloudLinux kernel (the kernel has the abbreviation LVE in its name) then please consider check our "),a("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/en-us/",target:"_blank",rel:"noopener noreferrer"}},[e._v("knowledgebase"),a("OutboundLink")],1),e._v(" or contact "),a("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}},[e._v("support"),a("OutboundLink")],1),e._v(".")])]),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("SELinux is not supported on CloudLinux OS 6 and 7. SELinux is supported on CloudLinux OS 8+, but might not work or be compatible with control panels and various components.")])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("At the end of conversion from CentOS 7.x to CloudLinux OS Shared 7, the cldeploy script converts CloudLinux OS Shared 7 to "),a("RouterLink",{attrs:{to:"/cloudlinux_os_kernel/#hybrid-kernels"}},[e._v("CloudLinux OS Shared 7 Hybrid")]),e._v(".")],1)]),a("p",[e._v("Automatic hybridization will be performed for the AMD processors with the following CPU families:")]),e._v(" "),a("ul",[a("li",[e._v("Zen / Zen+ / Zen 2 / Zen 3")]),e._v(" "),a("li",[e._v("Hygon Dhyana")])]),e._v(" "),a("p",[e._v("Automatic hybridization may be skipped by passing extra option '--no-force-hybridize'.\nSee also "),a("RouterLink",{attrs:{to:"/command-line_tools/#cldeploy"}},[e._v("advanced options for cldeploy")]),e._v(".")],1),e._v(" "),a("h4",{attrs:{id:"cldeploy-explained"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cldeploy-explained","aria-hidden":"true"}},[e._v("#")]),e._v(" CLDeploy Explained")]),e._v(" "),a("p",[e._v("By its design, CloudLinux OS Shared is very close to the upstream operating system - RHEL.\nThis makes the conversion process relatively straightforward, requiring just one reboot. Here's what the cldeploy script does when you run it:")]),e._v(" "),a("ul",[a("li",[e._v("Backups the original repository settings into "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/etc/cl-convert-saved")])]),e._v(".")]),e._v(" "),a("li",[e._v("Backups RHEL system ID into "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/etc/cl-convert-saved")])]),e._v(" (RHEL systems only).")]),e._v(" "),a("li",[e._v("Installs CloudLinux repository settings & imports CloudLinux RPM key.")]),e._v(" "),a("li",[e._v("Replaces redhat/centos-release/almalinux-release, redhat-release-notes, redhat-logos with CloudLinux versions.")]),e._v(" "),a("li",[e._v("Removes cpuspeed RPM (as it conflicts with CloudLinux limits).")]),e._v(" "),a("li",[e._v("Reinstall CloudLinux version of rhnlib/rhnplugin.")]),e._v(" "),a("li",[e._v("Checks for binary kernel modules, finds replacement if needed.")]),e._v(" "),a("li",[e._v("Detects OVH servers and fixes mkinitrd and possible boot issues.")]),e._v(" "),a("li",[e._v("Detects Linode servers and fixes grub issues.")]),e._v(" "),a("li",[e._v("Checks if LES is installed.")]),e._v(" "),a("li",[e._v("Checks that "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/etc/fstab")])]),e._v(" has correct "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/dev/root")])])]),e._v(" "),a("li",[e._v("Checks for EFI and performs the necessary configuration.")]),e._v(" "),a("li",[e._v("Installs CloudLinux kernel, lve-utils, liblve, lve-stats RPMs.")]),e._v(" "),a("li",[e._v("Installs CloudLinux Manager for the supported control panels.")]),e._v(" "),a("li",[e._v("Installs mod_hostinglimits Apache module "),a("sup",[e._v("*")]),e._v(":\n"),a("ul",[a("li",[e._v("RPM install for supported control panels;")]),e._v(" "),a("li",[e._v("On Plesk, replaces psa-mod_fcgid* with mod_fcgid;")]),e._v(" "),a("li",[e._v("Perform CustomBuild tool execution for DirectAdmin.")])])])]),e._v(" "),a("h4",{attrs:{id:"cldeploy-explained-uninstallation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cldeploy-explained-uninstallation","aria-hidden":"true"}},[e._v("#")]),e._v(" CLDeploy Explained - Uninstallation:")]),e._v(" "),a("p",[e._v("Here's what the cldeploy script does, if one runs it to uninstall CloudLinux:")]),e._v(" "),a("ul",[a("li",[e._v("Restores CentOS/AlmaLinux repositories, and almalinux-release/centos-release/release-notes/logos.")]),e._v(" "),a("li",[e._v("Removes lve, mod_hostinglimits, lve-stats, lvemanager packages.")]),e._v(" "),a("li",[e._v("mod_hostinglimits RPM is removed.")])]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[a("strong",[e._v("cldeploy doesn't remove the kernel")]),e._v(" to prevent condition when server has no kernels and wouldn't boot. Instead, script provide the instructions on how you could remove it manually later, when it is safe to do so.")])]),a("p",[e._v("On cPanel servers, rebuild of Apache with EasyApache will complete the conversion back, but doesn't have to be performed immediately."),a("sup",[e._v(" *")]),e._v("\nOn DirectAdmin servers, rebuild of Apache with custombuild will complete the conversion back, but doesn't have to be performed immediately.")]),e._v(" "),a("p",[e._v("More information is also available here: "),a("a",{attrs:{href:"https://docs.cloudlinux.com/cloudlinux_installation/#uninstalling",target:"_blank",rel:"noopener noreferrer"}},[e._v("Uninstall CloudLinux"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"common-issues-and-troubleshooting-during-conversion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#common-issues-and-troubleshooting-during-conversion","aria-hidden":"true"}},[e._v("#")]),e._v(" Common issues and troubleshooting during conversion")]),e._v(" "),a("p",[e._v("If you receive any troubles during the conversion process, please feel free to search our "),a("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/en-us",target:"_blank",rel:"noopener noreferrer"}},[e._v("knowledgebase"),a("OutboundLink")],1),e._v(" or contact our support and attach the conversion log (/var/log/cldeploy.log).")]),e._v(" "),a("h2",{attrs:{id:"activation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#activation","aria-hidden":"true"}},[e._v("#")]),e._v(" Activation")]),e._v(" "),a("h3",{attrs:{id:"getting-trial-license"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-trial-license","aria-hidden":"true"}},[e._v("#")]),e._v(" Getting trial license")]),e._v(" "),a("p",[e._v("You will need a trial activation key to be able to convert your server to CloudLinux OS Shared. The trial license subscription will work for 30 days.")]),e._v(" "),a("p",[e._v("If you have any issues getting activation key or if you have any questions regarding using your trial subscription – contact "),a("a",{attrs:{href:"mailto:sales@cloudlinux.com"}},[e._v("sales@cloudlinux.com")]),e._v(" and we will help.")]),e._v(" "),a("p",[e._v("To get the activation key:")]),e._v(" "),a("ol",[a("li",[e._v("Register with CloudLinux Network: "),a("a",{attrs:{href:"https://cln.cloudlinux.com/console/register/customer",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cln.cloudlinux.com/console/register/customer"),a("OutboundLink")],1),e._v(" (skip it if you already registered)")]),e._v(" "),a("li",[e._v("You will receive an email with activation link")]),e._v(" "),a("li",[e._v("Login at "),a("a",{attrs:{href:"https://cln.cloudlinux.com/console/auth/login",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cln.cloudlinux.com/console/auth/login"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Click on "),a("code",[e._v("Get Trial Activation Key")])])]),e._v(" "),a("p",[e._v("You will get a key that looks like: "),a("code",[e._v("12314-d34463a182fede4f4d7e140f1841bcf2")])]),e._v(" "),a("p",[e._v("Use it to register your system or to convert your server to CloudLinux OS Shared server.")]),e._v(" "),a("h3",{attrs:{id:"license-activation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#license-activation","aria-hidden":"true"}},[e._v("#")]),e._v(" License activation")]),e._v(" "),a("p",[e._v("To register your "),a("strong",[e._v("CloudLinux OS Shared 6/7")]),e._v(" server with CloudLinux Network using activation key, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ yum install rhn-setup --enablerepo=cloudlinux-base\n$ /usr/sbin/rhnreg_ks --activationkey=<activation key>\n")])])]),a("p",[e._v("Where <activation key> is like "),a("code",[e._v("1231-2b48feedf5b5a0e0609ae028d9275c93")])]),e._v(" "),a("p",[e._v("If you have IP based license, use the "),a("code",[e._v("clnreg_ks")]),e._v(" command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ yum install rhn-setup --enablerepo=cloudlinux-base\n$ /usr/sbin/clnreg_ks --force\n")])])]),a("p",[e._v("To register your "),a("strong",[e._v("CloudLinux OS Shared 8")]),e._v(" server with CloudLinux Network using activation key, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ yum install rhn-setup --enablerepo=cloudlinux-BaseOS\n$ /usr/sbin/rhnreg_ks --activationkey=<activation key>\n")])])]),a("p",[e._v("Where <activation key> is like "),a("code",[e._v("1231-2b48feedf5b5a0e0609ae028d9275c93")])]),e._v(" "),a("p",[e._v("If you have IP based license, use the "),a("code",[e._v("clnreg_ks")]),e._v(" command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ yum install rhn-setup --enablerepo=cloudlinux-BaseOS\n$ /usr/sbin/clnreg_ks --force\n")])])]),a("h2",{attrs:{id:"installing-new-servers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installing-new-servers","aria-hidden":"true"}},[e._v("#")]),e._v(" Installing new servers")]),e._v(" "),a("p",[e._v("You can download the latest CloudLinux OS Shared ISO and use it to install CloudLinux OS Shared on your server:")]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("Latest stable CloudLinux OS Shared 8 ISO")]),e._v(":")])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://www.repo.cloudlinux.com/cloudlinux/8/iso/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.repo.cloudlinux.com/cloudlinux/8/iso/x86_64/"),a("OutboundLink")],1),e._v(" - network/DVD installation ISOs")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("Latest stable CloudLinux OS Shared 7 ISO")]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("x86_64 version: "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/7/iso/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/7/iso/x86_64/"),a("OutboundLink")],1)])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("Latest stable CloudLinux OS Shared 6 ISO")]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("x86_64 version: "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/6/iso/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/6/iso/x86_64/"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("i386 version: "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/6/iso/i386/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/6/iso/i386/"),a("OutboundLink")],1)])])])]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Once you install server from the ISO, make sure you "),a("RouterLink",{attrs:{to:"/cloudlinux_installation/#license-activation"}},[e._v("register your system")]),e._v(" and then run "),a("code",[e._v("yum update")]),e._v(".")],1)]),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("We recommend to reinstall "),a("code",[e._v("lvemanager")]),e._v(", "),a("code",[e._v("lve-utils")]),e._v(", "),a("code",[e._v("lve-stats")]),e._v(", and "),a("code",[e._v("cagefs")]),e._v(" packages after installing a control panel.")])]),a("p",[e._v("Mount and boot the image, then follow the steps.")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Configure a network connection as shown below.")]),e._v(" "),a("ul",[a("li",[e._v("the network name depends on your operating system")]),e._v(" "),a("li",[e._v("you can specify your hostname")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/network_settings.png",alt:""}})])]),e._v(" "),a("li",[a("p",[e._v("Configure installation sources:")]),e._v(" "),a("ul",[a("li",[e._v("select the "),a("span",{staticClass:"notranslate"},[a("em",[e._v("On the network")])]),e._v(" installation source and enter the following repository URL: "),a("span",{staticClass:"notranslate"},[a("code",[e._v("https://repo.cloudlinux.com/cloudlinux/6/os/x86_64/Packages/")])]),e._v(" for CloudLinux OS Shared 6 "),a("span",{staticClass:"notranslate"},[a("code",[e._v("https://repo.cloudlinux.com/cloudlinux/7/os/x86_64/Packages/")])]),e._v(" for CloudLinux OS Shared 7 "),a("span",{staticClass:"notranslate"},[a("code",[e._v("https://repo.cloudlinux.com/cloudlinux/8/BaseOS/x86_64/os")])]),e._v(" for CloudLinux OS Shared 8.")]),e._v(" "),a("li",[e._v("also, in case you'd like to get the latest packages from the "),a("strong",[e._v("Update")]),e._v(" repository, add the additional "),a("strong",[e._v("Update")]),e._v(" repository URL: "),a("span",{staticClass:"notranslate"},[a("code",[e._v("https://repo.cloudlinux.com/cloudlinux/6/updates/x86_64/Packages/")])]),e._v(" for CloudLinux OS Shared 6 "),a("span",{staticClass:"notranslate"},[a("code",[e._v("https://repo.cloudlinux.com/cloudlinux/7/updates/x86_64/Packages/")])]),e._v(" for CloudLinux OS Shared 7 and\n"),a("span",{staticClass:"notranslate"},[a("code",[e._v("https://repo.cloudlinux.com/cloudlinux/8/AppStream/x86_64/os/")])]),e._v(" for CloudLinux OS Shared 8.")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/repository_settings.png",alt:""}})])]),e._v(" "),a("li",[a("p",[e._v("Select software: select the "),a("span",{staticClass:"notranslate"},[a("em",[e._v("Minimal install")])]),e._v(" environment.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/software_selection.png",alt:""}})])])]),e._v(" "),a("h2",{attrs:{id:"cloudlinux-os-shared-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-os-shared-images","aria-hidden":"true"}},[e._v("#")]),e._v(" CloudLinux OS Shared images")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#kvm-tab",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenStack QEMU/KVM"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#vmware-tab",target:"_blank",rel:"noopener noreferrer"}},[e._v("VMware"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#gce-tab",target:"_blank",rel:"noopener noreferrer"}},[e._v("Google Cloud Engine"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#aws-tab",target:"_blank",rel:"noopener noreferrer"}},[e._v("Amazon Web Services"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#ali-tab",target:"_blank",rel:"noopener noreferrer"}},[e._v("Alibaba Cloud"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#installing-new-servers"}},[e._v("Xen")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#cloudlinux-azure-images"}},[e._v("CloudLinux Azure Images")])],1)]),e._v(" "),a("h3",{attrs:{id:"cloudlinux-azure-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-azure-images","aria-hidden":"true"}},[e._v("#")]),e._v(" CloudLinux Azure Images")]),e._v(" "),a("p",[e._v("We build and release CloudLinux 7.9 and CloudLinux 8.6 for Azure and upload to the "),a("a",{attrs:{href:"https://learn.microsoft.com/en-us/azure/virtual-machines/share-gallery-community?tabs=cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mircosoft Azure Community Galleries"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Images are built in both types Azure supports: "),a("em",[e._v("gen1 (BIOS based)")]),e._v(" and "),a("em",[e._v("gen2 (UEFI based)")]),e._v(". CloudLinux Images could be found in the following regions: "),a("em",[e._v("West Europe, Germany West Central, Southeast Asia, East US, West US 2")]),e._v(". A publisher of CloudLinux Images in Azure is "),a("em",[e._v("cloudlinux")]),e._v(". Community gallery name is "),a("em",[e._v("cloudlinux-cbc76afd-63bc-4f6e-b801-65bd2f1ab0a0")]),e._v(".")]),e._v(" "),a("p",[e._v("How to use CloudLinux Image in Azure:")]),e._v(" "),a("ul",[a("li",[e._v("When creating Virtual Machine, while choosing what OS should be used, click See al images.\n"),a("img",{attrs:{src:"/images/AzureVirt.png",alt:""}})]),e._v(" "),a("li",[e._v("Switch from Marketplace to Community images.\n"),a("img",{attrs:{src:"/images/AzureSwitch.png",alt:""}})]),e._v(" "),a("li",[e._v("Search by typing "),a("em",[e._v("cloudlinux")]),e._v(" or filter by "),a("em",[e._v("Publisher")]),e._v(" which is also "),a("em",[e._v("cloudlinux")]),e._v(" or "),a("em",[e._v("Azure Compute Gallery")]),e._v(" which is "),a("em",[e._v("cloudlinux-cbc76afd-63bc-4f6e-b801-65bd2f1ab0a0")]),e._v(".\n"),a("img",{attrs:{src:"/images/AzureSearch.png",alt:""}})]),e._v(" "),a("li",[e._v("Choose a suitable image. Check that the Publisher of the selected images is "),a("em",[e._v("cloudlinux")]),e._v(" and Public Gallery Name is "),a("em",[e._v("cloudlinux-cbc76afd-63bc-4f6e-b801-65bd2f1ab0a0")]),e._v(".")])]),e._v(" "),a("h4",{attrs:{id:"xen-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xen-images","aria-hidden":"true"}},[e._v("#")]),e._v(" Xen images")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("We do not provide Xen images of CloudLinux OS Shared anymore, use "),a("a",{attrs:{href:"#installing-new-servers"}},[e._v("ISO images")]),e._v(" instead")])]),a("h2",{attrs:{id:"net-install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#net-install","aria-hidden":"true"}},[e._v("#")]),e._v(" Net install")]),e._v(" "),a("p",[e._v("To install CloudLinux OS Shared over network:")]),e._v(" "),a("ol",[a("li",[e._v("Download & boot using the netboot image from:")])]),e._v(" "),a("p",[a("strong",[e._v("For CloudLinux OS Shared 8")]),e._v(": "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/8/iso/x86_64/CloudLinux-8.5-x86_64-boot.iso",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/8/iso/x86_64/CloudLinux-8.5-x86_64-boot.iso"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Alternatively, you can configure your PXE server using following folder as reference: "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/8/install/x86_64/os/images/pxeboot/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/8/install/x86_64/os/images/pxeboot/"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("strong",[e._v("For CloudLinux OS Shared 7")]),e._v(": "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/7/iso/x86_64/CloudLinux-netinst-x86_64-7.9.iso",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/7/iso/x86_64/CloudLinux-netinst-x86_64-7.9.iso"),a("OutboundLink")],1),e._v(". It will boot into CloudLinux installer.")]),e._v(" "),a("p",[e._v("Alternatively, you can configure your PXE server using following folder as reference: "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/7/install/x86_64/images/pxeboot/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/7/install/x86_64/images/pxeboot/"),a("OutboundLink")],1)]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("During the CloudLinux OS Shared installation, select URL as installation source and enter URL:")])]),e._v(" "),a("p",[a("strong",[e._v("For CloudLinux OS Shared 8")]),e._v(": "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/8/install/x86_64/os/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/8/install/x86_64/os/"),a("OutboundLink")],1),e._v(" and continue with installation.")]),e._v(" "),a("p",[a("strong",[e._v("For CloudLinux OS Shared 7")]),e._v(": "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/7/install/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/7/install/x86_64/"),a("OutboundLink")],1),e._v(" and continue with installation.")]),e._v(" "),a("p",[e._v("To install CloudLinux 6 instead, use the following URL: "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/6/install/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/6/install/x86_64/"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("Same URLs can be used to install para-virtualized Xen using either command-line or virt manager.")]),e._v(" "),a("h2",{attrs:{id:"provider-specific-guidelines"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#provider-specific-guidelines","aria-hidden":"true"}},[e._v("#")]),e._v(" Provider-specific guidelines")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#aws"}},[e._v("Amazon Web Services")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#h-sphere"}},[e._v("H-Sphere")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#digitalocean"}},[e._v("DigitalOcean")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#linode"}},[e._v("Linode")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#virtuozzo-and-openvz"}},[e._v("Virtuozzo and OpenVZ")])],1)]),e._v(" "),a("h3",{attrs:{id:"aws"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws","aria-hidden":"true"}},[e._v("#")]),e._v(" AWS")]),e._v(" "),a("p",[e._v("CloudLinux OS Shared image list can be found "),a("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#aws-tab",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("If you are going to use CloudLinux OS Shared with cPanel image, you may find useful the following "),a("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/en-us/articles/360014130320-How-to-get-CloudLinux-OS-with-cPanel-AMI-working-on-AWS",target:"_blank",rel:"noopener noreferrer"}},[e._v("article"),a("OutboundLink")],1)]),e._v(" "),a("h3",{attrs:{id:"h-sphere"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#h-sphere","aria-hidden":"true"}},[e._v("#")]),e._v(" H-Sphere")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#requirements"}},[e._v("Requirements")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#converting-from-mod-fastcgi-to-mod-fcgid"}},[e._v("Converting from mod_fastcgi to mod_fcgid")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#older-versions-of-h-sphere"}},[e._v("Older versions of H-Sphere")])],1)]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("For H-Sphere 3.5+\nPlease note, that CageFS and PHP Selector are not supported for H-Sphere")])]),a("h4",{attrs:{id:"requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requirements","aria-hidden":"true"}},[e._v("#")]),e._v(" Requirements")]),e._v(" "),a("ol",[a("li",[e._v("CloudLinux OS Shared with liblve 0.8 or later.")]),e._v(" "),a("li",[e._v("Apache 2.2.x or 1.3.")]),e._v(" "),a("li",[e._v("mod_suexec should be enabled.")])]),e._v(" "),a("p",[e._v("To achieve optimal performance, we recommend to "),a("RouterLink",{attrs:{to:"/cloudlinux_installation/#converting-from-mod-fastcgi-to-mod-fcgid"}},[e._v("convert from mod_fastcgi to mod_fcgid")]),e._v(".")],1),e._v(" "),a("p",[e._v("There is no need to install mod_hostinglimits – it comes built in with H-Sphere. Once you load kernel from CloudLinux OS Shared with liblve 0.8 or later – it will get enabled.")]),e._v(" "),a("p",[e._v("You can check if LVE is enabled by running:\n"),a("span",{staticClass:"notranslate"})]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ ps aux | grep httpd | grep DLIBLVE\n")])])]),a("p",[e._v("If you see no output, it means that Apache didn't pick up LVE. Try checking file "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/hsphere/shared/scripts/apache-get-env.sh")])])]),e._v(" "),a("p",[e._v("The following lines should be there:\n")]),a("div",{staticClass:"notranslate"},[a("p"),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('if [ -e /usr/lib64/liblve.so.0 -o -e /usr/lib/liblve.so.0 ]; then\nAPENV_DSSL="$APENV_DSSL -DLIBLVE"\nfi\n')])])])]),e._v(" "),a("p",[e._v("If those strings are absent, you should add it, after:")]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("else\nAPENV_DSSL='-DSSL'\nfi\n###\n")])])])]),e._v(" "),a("p",[e._v("and before:")]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('# this is used by apacheGetEnv.pm perl module\nif [ "$1" = \'show\' ] ; then\nset | egrep "^APENV_"\nfi\n')])])])]),e._v(" "),a("p",[e._v("strings.")]),e._v(" "),a("p",[e._v("Restart Apache afterward.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Don't forget to "),a("RouterLink",{attrs:{to:"/cloudlinux_installation/#converting-from-mod-fastcgi-to-mod-fcgid"}},[e._v("convert from mod_fastcgi to mod_fcgid")]),e._v(".")],1)]),a("h4",{attrs:{id:"converting-from-mod-fastcgi-to-mod-fcgid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#converting-from-mod-fastcgi-to-mod-fcgid","aria-hidden":"true"}},[e._v("#")]),e._v(" Converting from mod_fastcgi to mod_fcgid")]),e._v(" "),a("p",[e._v("To achieve the best results in productivity and stability we recommend converting from "),a("span",{staticClass:"notranslate"},[a("code",[e._v("mod_fastcgi")])]),e._v(" to "),a("span",{staticClass:"notranslate"},[a("code",[e._v("mod_fcgid")])]),e._v(".")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("H-Sphere 3.6.3+")])]),a("ol",[a("li",[e._v("Download our fcgi.conf file:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ wget -O /hsphere/local/config/httpd2/fcgi.conf https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/fcgi.conf\n")])])])]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Edit "),a("span",{staticClass:"notranslate"},[a("code",[e._v("~httpd2/conf/extra/httpd-hostinglimits.conf")])]),e._v(" to the following state:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("######\nLoadModule hostinglimits_module /hsphere/shared/apache2/modules/mod_hostinglimits.so\n\n<IfModule mod_hostinglimits.c>\nSkipErrors Off\nAllowedHandlers cgi-script %php% fcgid-script application/x-miva-compiled\nDenyHandlers hs-php5-script hs-php53-script hs-php54-script\nInclude /hsphere/local/config/httpd2/fcgi.conf\n \n</IfModule>\n#######\n")])])])]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Go to "),a("span",{staticClass:"notranslate"},[a("code",[e._v("P.Servers > web server [Config]")])]),e._v(" and be sure to have enabled:\n"),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[a("code",[e._v("apache_version=2")])])]),e._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[e._v("apache_mpm=prefork")])])]),e._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[e._v("apache_fastcgi")])])]),e._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[e._v("apache_fcgid")])])]),e._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[e._v("PHP version/mode: php_fastcgi")]),e._v("*")])])])])]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("*No changes needed to "),a("code",[e._v("httpd.conf.tmpl.custom")]),e._v(" or "),a("code",[e._v("usermodule.phpmode")]),e._v(" as this version provides its own mod_fcgid.")])]),a("h4",{attrs:{id:"older-versions-of-h-sphere"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#older-versions-of-h-sphere","aria-hidden":"true"}},[e._v("#")]),e._v(" Older versions of H-Sphere")]),e._v(" "),a("ol",[a("li",[e._v("Compile mod_fcgid module:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ yum install gcc liblve-devel zlib-devel openssl-devel \n$ wget https://apache.osuosl.org//httpd/mod_fcgid/mod_fcgid-2.3.9.tar.gz\n$ tar zxvf mod_fcgid-2.3.9.tar.gz\n$ cd mod_fcgid-2.3.9/\n$ APXS=/hsphere/shared/apache2/bin/apxs ./configure.apxs \n$ make\n$ mv modules/fcgid/.libs/mod_fcgid.so /hsphere/shared/apache2/modules\n")])])])]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Download and apply patch "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/usemodule.phpmode.patch",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/usemodule.phpmode.patch"),a("OutboundLink")],1),e._v(" to "),a("code",[e._v("/hsphere/local/config/scripts/usemodule.phpmode")]),e._v(":")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ wget https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/usemodule.phpmode.patch \n$ patch /hsphere/local/config/scripts/usemodule.phpmode usemodule.phpmode.patch\n")])])])]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("If "),a("code",[e._v("/hsphere/local/config/httpd2/httpd.conf.tmpl.custom")]),e._v(" does not exists – create it:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ cp -rp /hsphere/local/config/httpd2/httpd.conf.tmpl /hsphere/local/config/httpd2/httpd.conf.tmpl.custom\n")])])])]),e._v(" "),a("p",[e._v("Download and apply patch "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/httpd.conf.tmpl.patch",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/httpd.conf.tmpl.patch"),a("OutboundLink")],1),e._v(" to the "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/hsphere/local/config/httpd2/httpd.conf.tmpl.custom")])]),e._v(":")]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ wget https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/httpd.conf.tmpl.patch \n$ patch --fuzz=3 /hsphere/local/config/httpd2/httpd.conf.tmpl.cusom  httpd.conf.tmpl.patch\n")])])])]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Download pre-defined config file "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/fcgi.conf",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/fcgi.conf"),a("OutboundLink")],1),e._v(" to "),a("code",[e._v("/hsphere/local/config/httpd2")]),e._v(":")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ wget -O /hsphere/local/config/httpd2/fcgi.conf https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/fcgi.conf\n")])])])]),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Download our wrapper file "),a("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/php-wrapper",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/php-wrapper"),a("OutboundLink")],1),e._v(" into "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/hsphere/shared/php5/bin/")])]),e._v(" and make it executable:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ wget -O /hsphere/shared/php5/bin/php-wrapper https://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/php-wrapper\n$ chmod 755 /hsphere/shared/php5/bin/php-wrapper\n")])])])]),e._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[e._v("Change permissions for "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/hsphere/local/home")])]),e._v(" to 755:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ chmod 755 /hsphere/local/home\n")])])])]),e._v(" "),a("ol",{attrs:{start:"7"}},[a("li",[e._v("Edit "),a("span",{staticClass:"notranslate"},[a("code",[e._v("~httpd2/conf/extra/httpd-hostinglimits.conf")])]),e._v(" and add DenyHandlers, so section will look like:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<IfModule mod_hostinglimits.c>\nSkipErrors Off\nAllowedHandlers cgi-script %php% fcgid-script application/x-miva-compiled\nDenyHandlers hs-php5-script hs-php53-script hs-php54-script \n</IfModule>\n")])])])]),e._v(" "),a("ol",{attrs:{start:"8"}},[a("li",[e._v("Configure physical server from H-Sphere admin > E.Manager > P.Servers > server_name [parameters] icon, settings should be:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("apache_version = 2\napacha_fastcgi = yes\napache_status = yes\n")])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/sshot-2013-07-30-21-25-48.png",alt:""}})]),e._v(" "),a("ol",{attrs:{start:"9"}},[a("li",[e._v("Set PHP configuration to:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("php_libphp5 enabled but not default\nphp_fastcgi5 enabled and is default\n")])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/sshot-2013-07-30-21-31-05.png",alt:""}})]),e._v(" "),a("p",[e._v("Other options could be configured according to personal needs.")]),e._v(" "),a("p",[e._v("When done - click "),a("span",{staticClass:"notranslate"},[a("em",[e._v("SUBMIT")])]),e._v(" to apply changes.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("After updating H-Sphere software on web server with CloudLinux OS Shared you need to re-apply step 2 (patch usemodule.phpmode) and restart apache with "),a("code",[e._v("/hsphere/shared/scripts/apache-restart")]),e._v(" script.")])]),a("h3",{attrs:{id:"digitalocean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#digitalocean","aria-hidden":"true"}},[e._v("#")]),e._v(" DigitalOcean")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#adding-cloudlinux-os-shared-image-to-digitalocean"}},[e._v("Adding CloudLinux OS Shared image to DigitalOcean")])],1)]),e._v(" "),a("p",[e._v("How to make CloudLinux OS Shared work on DigitalOcean:")]),e._v(" "),a("p",[e._v("DigitalOcean doesn't support custom kernels. The droplet (VM) always runs DigitalOcean's kernel. CloudLinux OS Shared requires its own kernel. To enable CloudLinux OS Shared work on DigitalOcean droplets, we provide ability to boot into CloudLinux OS Shared kernel using "),a("code",[e._v("kexec")]),e._v(" functionality.")]),e._v(" "),a("p",[e._v("How does this work:")]),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"notranslate"},[e._v(" cldeploy ")]),e._v(" script checks for presence of "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/etc/digitalocean")])]),e._v(". If the file detected, we assume that this is DigitalOcean droplet;")]),e._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[e._v("kexec-tools")])]),e._v(" are installed;")]),e._v(" "),a("li",[a("span",{staticClass:"notranslate"},[a("code",[e._v("kexec")])]),e._v(" script will be created in "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/etc/rc.d/init.d/")])]),e._v(" and set to run right after "),a("span",{staticClass:"notranslate"},[a("code",[e._v("rc.sysinit")])]),e._v(".")])]),e._v(" "),a("p",[e._v("When executed, script "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/etc/rc.d/init.d/kexec")])]),e._v(" detects the latest installed CloudLinux OS Shared kernel, and loads that kernel.")]),e._v(" "),a("p",[e._v("If the system cannot boot into CloudLinux OS Shared kernel (due to any reason), subsequent reboot will skip "),a("span",{staticClass:"notranslate"},[a("code",[e._v("kexec")])]),e._v(", allow droplet to boot into DigitalOceans' kernel.")]),e._v(" "),a("p",[e._v("To disable booting into Cloudlinux OS Shared kernel, run:")]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("chkconfig --del kexec\n")])])])]),e._v(" "),a("p",[e._v("To re-enable booting into CloudLinux OS Shared kernel, run:\n")]),a("div",{staticClass:"notranslate"},[a("p"),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("chkconfig --add kexec\n")])])])]),e._v(" "),a("h4",{attrs:{id:"adding-cloudlinux-os-shared-image-to-digitalocean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-cloudlinux-os-shared-image-to-digitalocean","aria-hidden":"true"}},[e._v("#")]),e._v(" Adding CloudLinux OS Shared image to DigitalOcean")]),e._v(" "),a("p",[e._v("Custom images are Linux distributions that have been modified to fit the specific needs of DigitalOcean users. You can find some basics of importing a custom CloudLinux OS Shared image below.")]),e._v(" "),a("p",[e._v("Importing custom images to DigitalOcean is free, as you are only charged for the storage of your image. To save money, you can easily import your image, start a Droplet from your image, and delete the image, so you don’t incur any storage costs.")]),e._v(" "),a("p",[e._v("Below, we will describe how to add a qcow2 (QEMU/KVM) CloudLinux OS Shared image as a custom image. You can find more information on image options at "),a("a",{attrs:{href:"https://www.digitalocean.com/docs/images/custom-images/overview/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.digitalocean.com/docs/images/custom-images/overview/"),a("OutboundLink")],1)]),e._v(" "),a("ol",[a("li",[e._v("To choose the right image, navigate to "),a("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#kvm-tab",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://download.cloudlinux.com/cloudlinux/images/#kvm-tab"),a("OutboundLink")],1),e._v(". Several different images are available for download (with and without a control panel).")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/cloudlinuximages.png",alt:""}})]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Copy the link for the image you are going to use and log into "),a("a",{attrs:{href:"https://blog.digitalocean.com/custom-images/cloud.digitalocean.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("cloud.digitalocean.com"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("p",[e._v("Click "),a("span",{staticClass:"notranslate"},[a("em",[e._v("Images")])]),e._v(" on the left of the screen and then choose "),a("span",{staticClass:"notranslate"},[a("em",[e._v("Custom Images")])]),e._v(". Click the "),a("span",{staticClass:"notranslate"},[a("em",[e._v("Import via URL")])]),e._v(" button and paste the CloudLinux OS Shared image link.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/customimages.png",alt:""}})]),e._v(" "),a("p",[e._v("There are several options here, but the most important is "),a("span",{staticClass:"notranslate"},[a("em",[e._v("Choose a datacenter region")])]),e._v(", i.e. which datacenter region your Droplets should be created in for this image.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/uploadimage.png",alt:""}})]),e._v(" "),a("p",[e._v("Click the "),a("span",{staticClass:"notranslate"},[a("em",[e._v("Upload Image")])]),e._v(" button and wait until the image is successfully uploaded.")]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Add your public key to access your droplets using key-based authentication: navigate to the "),a("span",{staticClass:"notranslate"},[a("em",[e._v("Security")])]),e._v(" sidebar menu and click the "),a("span",{staticClass:"notranslate"},[a("em",[e._v("Add SSH Key")])]),e._v(" button.")])]),e._v(" "),a("p",[e._v("You can find more information about creating/adding SSH keys in "),a("a",{attrs:{href:"https://www.digitalocean.com/docs/droplets/how-to/add-ssh-keys/",target:"_blank",rel:"noopener noreferrer"}},[e._v("this article"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/addsshkey.png",alt:""}})]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[e._v("You will then be able to start a CloudLinux OS Shared Droplet using the image.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Your Droplet will be created in the same datacenter that your custom image resides in.")])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/startdroplet.png",alt:""}})]),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Now, use your preferred SSH client software to connect to your Droplet. You can find more information on SSH client setup "),a("a",{attrs:{href:"https://www.digitalocean.com/docs/droplets/how-to/connect-with-ssh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/sshclient.png",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"linode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linode","aria-hidden":"true"}},[e._v("#")]),e._v(" Linode")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#cloudlinux-os-shared-on-linode-kvm"}},[e._v("CloudLinux OS Shared on Linode KVM")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#cloudlinux-os-shared-on-linode-xen"}},[e._v("CloudLinux OS Shared on Linode Xen")])],1)]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Warning")]),a("p",[e._v("If you are installing CloudLinux OS Shared 8, please make sure you’ve read "),a("a",{attrs:{href:"https://www.linode.com/community/questions/19397/i-just-upgraded-my-centos-8-linode-and-now-it-wont-boot-how-do-i-fix-this-proble",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.linode.com/community/questions/19397/i-just-upgraded-my-centos-8-linode-and-now-it-wont-boot-how-do-i-fix-this-proble"),a("OutboundLink")],1)])]),a("h4",{attrs:{id:"cloudlinux-os-shared-on-linode-kvm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-os-shared-on-linode-kvm","aria-hidden":"true"}},[e._v("#")]),e._v(" CloudLinux OS Shared on Linode KVM")]),e._v(" "),a("p",[e._v("To install CloudLinux OS Shared 7 on Linode KVM server you should perform the following steps:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Deploy CL to your Linode following the steps from "),a("RouterLink",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[e._v("this section")])],1)]),e._v(" "),a("li",[a("p",[e._v("Install grub on your system:")])])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yum install grub2\n")])])])]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Add to "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/etc/default/grub")])]),e._v(" the following parameters:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('GRUB_TIMEOUT=10\nGRUB_CMDLINE_LINUX="console=ttyS0,19200n8"\nGRUB_DISABLE_LINUX_UUID=true\nGRUB_SERIAL_COMMAND="serial --speed=19200 --unit=0 --word=8 --parity=no --stop=1"\n')])])])]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Update grub config:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("grub2-mkconfig -o /boot/grub/grub.cfg\n")])])])]),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[a("p",[e._v("Edit your Linode profile, change the boot settings to "),a("span",{staticClass:"notranslate"},[a("code",[e._v("GRUB 2")])]),e._v(" .")])]),e._v(" "),a("li",[a("p",[e._v("Reboot your Linode.")])])]),e._v(" "),a("p",[e._v("After reboot you will have fully operational CloudLinux OS Shared 7 system and can proceed with other configuration you need.")]),e._v(" "),a("h4",{attrs:{id:"cloudlinux-os-shared-on-linode-xen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-os-shared-on-linode-xen","aria-hidden":"true"}},[e._v("#")]),e._v(" CloudLinux OS Shared on Linode Xen")]),e._v(" "),a("p",[e._v("To install CloudLinux OS Shared 7 on Linode Xen please perform the following steps:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Deploy CL to your Linode following the steps from "),a("RouterLink",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[e._v("this section")]),e._v(".")],1)]),e._v(" "),a("li",[a("p",[e._v("Create the file "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/boot/grub/menu.lst")])]),e._v(" with the following content:")])])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("timeout 5\ntitle CloudLinux 7.1, $KVERSION\nroot (hd0)\nkernel /boot/vmlinuz-$KVERSION root=/dev/xvda1 ro quiet\ninitrd /boot/initramfs-$KVERSION.img\n")])])])]),e._v(" "),a("p",[e._v("where "),a("span",{staticClass:"notranslate"},[a("code",[e._v("$KVERSION")])]),e._v(" is the version of the installed CloudLinux OS Shared 7 kernel.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("You will need to update "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/boot/grub/menu.lst")])]),e._v(" manually after every kernel update.")])]),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[e._v("Switch boot settings to "),a("span",{staticClass:"notranslate"},[a("code",[e._v("pv-grub-x86_64")])]),e._v(" and switch off "),a("span",{staticClass:"notranslate"},[a("code",[e._v("Auto-configure networking")])]),e._v(" in Linode settings.")])]),e._v(" "),a("li",[a("p",[e._v("Reboot your Linode.")])])]),e._v(" "),a("p",[e._v("In case if you will migrate to KVM later you will need only switch the boot settings to "),a("span",{staticClass:"notranslate"},[a("code",[e._v("GRUB 2")])]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"virtuozzo-and-openvz"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#virtuozzo-and-openvz","aria-hidden":"true"}},[e._v("#")]),e._v(" Virtuozzo and OpenVZ")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#virtuozzo-7-and-openvz-7"}},[e._v("Virtuozzo 7 and OpenVZ 7")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#virtuozzo-6-and-openvz-6"}},[e._v("Virtuozzo 6 and OpenVZ 6")])],1)]),e._v(" "),a("h4",{attrs:{id:"virtuozzo-7-and-openvz-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#virtuozzo-7-and-openvz-7","aria-hidden":"true"}},[e._v("#")]),e._v(" Virtuozzo 7 and OpenVZ 7")]),e._v(" "),a("p",[e._v("To use CloudLinux Shared Pro in Virtuozzo container, please update the next packages to the specified versions (or higher):")]),e._v(" "),a("ul",[a("li",[e._v("alt-php-ssa-0.3-4")]),e._v(" "),a("li",[e._v("alt-php-xray-0.5-8")]),e._v(" "),a("li",[e._v("cloudlinux-linksafe-1-5.2")]),e._v(" "),a("li",[e._v("accelerate-wp-1.0-11")]),e._v(" "),a("li",[e._v("lvemanager-7.7.5-2")]),e._v(" "),a("li",[e._v("alt-python27-cllib-3.2.32-1")]),e._v(" "),a("li",[e._v("pam_lve-0.4-3")]),e._v(" "),a("li",[e._v("lve-wrappers-0.7.7-1")]),e._v(" "),a("li",[e._v("lve-utils-6.4.3-1")]),e._v(" "),a("li",[e._v("cagefs-7.5.1-1")]),e._v(" "),a("li",[e._v("liblve-2.1-11")]),e._v(" "),a("li",[e._v("tuned-profiles-cloudlinux-0.2-3")])]),e._v(" "),a("h4",{attrs:{id:"available-functionality"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#available-functionality","aria-hidden":"true"}},[e._v("#")]),e._v(" Available functionality")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#lsapi"}},[e._v("Lsapi")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#acceleratewp"}},[e._v("AccelerateWP")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/control_panel_integration/#hardened-php"}},[e._v("Hardened PHP")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/lve_manager/#website-monitoring-tool-and-slow-site-analyzer"}},[e._v("Website monitoring and Slow Site Analyzer")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux-os-plus/#x-ray"}},[e._v("X-Ray")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#cagefs"}},[e._v("CageFS")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#php-selector"}},[e._v("PHP Selector")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#cloudlinux-wizard"}},[e._v("Wizard")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#dashboard"}},[e._v("Dashboard")])],1)]),e._v(" "),a("h4",{attrs:{id:"requirements-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requirements-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Requirements")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://wiki.openvz.org/Virtuozzo",target:"_blank",rel:"noopener noreferrer"}},[e._v("Virtuozzo 7"),a("OutboundLink")],1),e._v(" as server system")]),e._v(" "),a("li",[e._v("Virtuozzo container with CloudLinux Shared Pro 8")]),e._v(" "),a("li",[e._v("cloudlinux-updates-testing repo is enabled (+ "),a("code",[e._v("yum clean all")]),e._v(")")])]),e._v(" "),a("h4",{attrs:{id:"how-to-install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-install","aria-hidden":"true"}},[e._v("#")]),e._v(" How to install")]),e._v(" "),a("ol",[a("li",[e._v("Prepare Virtuozzo container with ostemplate almalinux-8-x86_64")]),e._v(" "),a("li",[e._v("Enter to the container")]),e._v(" "),a("li",[e._v("Install cPanel:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cd /home && curl -o latest -L https://securedownloads.cpanel.net/latest && sh latest\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Download and start cldeploy:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("wget https://repo.cloudlinux.com/cloudlinux/sources/cln/cldeploy\nchmod 775  cldeploy\n./cldeploy -k SHARED_PRO_CLN_KEY_HERE --testing-repo\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[e._v("You don't need to restart the container after the cldeploy script finished execution.")])]),e._v(" "),a("h4",{attrs:{id:"cloudlinux-wizard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-wizard","aria-hidden":"true"}},[e._v("#")]),e._v(" CloudLinux Wizard")]),e._v(" "),a("p",[e._v("Wizard is a tool to set up CloudLinux OS Shared components.")]),e._v(" "),a("p",[e._v("In the current version only the lsapi module can be installed.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/WizardVZ.png",alt:""}})]),e._v(" "),a("h4",{attrs:{id:"dashboard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard","aria-hidden":"true"}},[e._v("#")]),e._v(" Dashboard")]),e._v(" "),a("p",[e._v("CloudLinux OS Shared dashboard provides a quick overview of statistics and all administrative information for server administrators.")]),e._v(" "),a("p",[e._v("In the current version only statistics about the lsapi module is available.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/DashboardVZ.png",alt:""}})]),e._v(" "),a("h4",{attrs:{id:"lsapi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lsapi","aria-hidden":"true"}},[e._v("#")]),e._v(" Lsapi")]),e._v(" "),a("p",[e._v("To install Lsapi via CloudLinux Wizard, please turn off mod_ruid2 in EasyApache 4 -> Apache Modules.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("For EasyApache select "),a("code",[e._v("Currently Installed Packages")]),e._v(".")])]),a("p",[a("img",{attrs:{src:"/images/LsapiVZ1.png",alt:""}})]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/LsapiVZ2.png",alt:""}})]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/LsapiVZ3.png",alt:""}})]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v('Currently mod_suexec is not available in containers and will be released in future versions. Just ignore this message, click "ok" and continue installing lsapi via the Wizard.')])]),a("p",[e._v("You can find the complete lsapi documentation "),a("a",{attrs:{href:"https://docs.cloudlinux.com/cloudlinux_os_components/#apache-mod-lsapi-pro",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"acceleratewp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acceleratewp","aria-hidden":"true"}},[e._v("#")]),e._v(" AccelerateWP")]),e._v(" "),a("p",[e._v("If you'd like to try Smart Advice and AccelerateWP you should participate in the Beta tester program. To become a beta tester, please send your request at our Beta program page with the signup form "),a("a",{attrs:{href:"https://www.cloudlinux.com/wp-performance/",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(". Once you submit the request, we will send you a confirmation email with program details, terms of use, and installation instructions.")]),e._v(" "),a("p",[e._v("All additional information can be found "),a("a",{attrs:{href:"https://docs.cloudlinux.com/cloudlinux-os-plus/#acceleratewp",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"cagefs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cagefs","aria-hidden":"true"}},[e._v("#")]),e._v(" CageFS")]),e._v(" "),a("p",[e._v("You can fing CageFS documentation "),a("RouterLink",{attrs:{to:"/cloudlinux_os_components/#cagefs"}},[e._v("here")]),e._v(".")],1),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Attention!")]),a("p",[a("RouterLink",{attrs:{to:"/cloudlinux_os_kernel/#kernel-config-variables"}},[e._v("Kernel config variables")]),e._v(" are not available for the Virtuozzo container!")],1)]),a("h4",{attrs:{id:"php-selector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#php-selector","aria-hidden":"true"}},[e._v("#")]),e._v(" PHP Selector")]),e._v(" "),a("h4",{attrs:{id:"how-to-install-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-install-2","aria-hidden":"true"}},[e._v("#")]),e._v(" How to install")]),e._v(" "),a("ol",[a("li",[e._v("To install via SSH, update your packages in the container:"),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("yum update alt-python27-cllib pam_lve lve-wrappers lve-utils liblve tuned-profiles-cloudlinux lvemanager\n")])])])]),e._v(" "),a("li",[e._v("The following commands can be executed via SSH or via CloudLinux Wizard\n"),a("strong",[e._v("Via SSH:")]),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" cagefs\nyum groupinstall alt-php\ncagefsctl –init\n")])])]),a("strong",[e._v("Via CloudLinux Wizard (cPanel only):")]),e._v(" "),a("img",{attrs:{src:"/images/CLWizardInstallation.png",alt:""}})]),e._v(" "),a("li",[e._v("Make sure compatible handlers are installed:\n"),a("strong",[e._v("Via SSH:")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yum install ea-apache24-mod_suexec\nyum install ea-apache24-mod_suphp\n")])])]),a("strong",[e._v("Or")]),a("br"),e._v(" "),a("RouterLink",{attrs:{to:"/cloudlinux_os_components/#installing-on-cpanel-servers-with-easyapache-4"}},[e._v("Install lsapi")]),a("br"),e._v(" "),a("strong",[e._v("It's also possible to install via CloudLinux Wizard:")]),a("br"),e._v("\nThe "),a("code",[e._v("mod_suexec")]),e._v(" and "),a("code",[e._v("mod_suphp")]),e._v(" can be installed via cPanel EasyApache4 installation tool."),a("br"),a("br")],1),e._v(" "),a("li",[e._v("Make sure users are enabled in the CageFS:\n"),a("img",{attrs:{src:"/images/UsersEnabled.png",alt:""}})])]),e._v(" "),a("p",[e._v("Useful links:")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_os_components/#general-information-and-requirements-5"}},[e._v("General information and requirements")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_os_components/#installation-and-update-4"}},[e._v("Installation and update")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_os_components/#installation-instructions-for-cpanel-users"}},[e._v("Installation instructions for cPanel users")])],1)])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_os_components/#uninstalling-3"}},[e._v("Uninstalling")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_os_components/#configuration-and-using"}},[e._v("Configuration and using")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/cloudlinux_os_components/#bundled-php-extensions"}},[e._v("Bundled PHP extensions")])],1)])],1)]),e._v(" "),a("h4",{attrs:{id:"faq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#faq","aria-hidden":"true"}},[e._v("#")]),e._v(" FAQ")]),e._v(" "),a("p",[e._v("Q: My CloudLinux Manager-> options menu is empty.")]),e._v(" "),a("p",[e._v("A: You don't have AccelerateWP enabled and PHP X-Ray enabled, so there is nothing to configure. Install and enable any of those features to see settings. This minor UI issue will be fixed in future updates.")]),e._v(" "),a("p",[e._v("Q: Dashboard says both: that data is updated and that I need to refresh it and both panels never disappear.")]),e._v(" "),a("p",[e._v("A: Just click the refresh button and reload the page, data will be loaded soon.")]),e._v(" "),a("p",[e._v("Q: Website monitoring does not appear enabled after clicking the toggle.")]),e._v(" "),a("p",[e._v("A: Just reload the page, the feature will be displayed as active.")]),e._v(" "),a("p",[e._v("Q: Website monitoring proposes me to enable autotracing while I disable it.")]),e._v(" "),a("p",[e._v("A: Issue is known and will be fixed soon.")]),e._v(" "),a("h4",{attrs:{id:"known-restrictions-and-issues"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#known-restrictions-and-issues","aria-hidden":"true"}},[e._v("#")]),e._v(" Known restrictions and issues")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("We do not recommend using "),a("a",{attrs:{href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-disk-quotas",target:"_blank",rel:"noopener noreferrer"}},[e._v("disk quota"),a("OutboundLink")],1),e._v(" inside of containers - PHP Selector may be not functional for a user when disk quota is exceeded for the user.")])]),e._v(" "),a("li",[a("p",[e._v("The following systemd directives may break CageFS inside containers:")]),e._v(" "),a("ul",[a("li",[e._v("PrivateDevices")]),e._v(" "),a("li",[e._v("PrivateMounts")]),e._v(" "),a("li",[e._v("PrivateTmp")]),e._v(" "),a("li",[e._v("ProtectSystem")]),e._v(" "),a("li",[e._v("ReadOnlyDirectories")]),e._v(" "),a("li",[e._v("ReadWriteDirectories")]),e._v(" "),a("li",[e._v("InaccessibleDirectories")]),e._v(" "),a("li",[e._v("ProtectHome")])])])]),e._v(" "),a("h4",{attrs:{id:"virtuozzo-6-and-openvz-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#virtuozzo-6-and-openvz-6","aria-hidden":"true"}},[e._v("#")]),e._v(" Virtuozzo 6 and OpenVZ 6")]),e._v(" "),a("h4",{attrs:{id:"installation-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Make sure all containers are stopped prior to doing this operation. Or reboot the server after the installation.")])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Please make sure you have "),a("span",{staticClass:"notranslate"},[a("code",[e._v("vzkernel-headers")])]),e._v(" and "),a("span",{staticClass:"notranslate"},[a("code",[e._v("vzkernel-devel")])]),e._v(" packages installed.")])]),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yum install vzkernel-headers vzkernel-devel\n\n$ wget -P /etc/yum.repos.d/ https://repo.cloudlinux.com/vzlve/vzlve.repo\n$ yum install lve-kernel-module\n")])])])]),e._v(" "),a("p",[e._v("This will setup LVE module for VZ kernel, as well as DKMS to update that module each time VZ kernel is updated.")]),e._v(" "),a("p",[e._v("After this is done, you can add LVE support for any container on a node, at any time.")]),e._v(" "),a("p",[e._v("To make CloudLinux OS Shared work inside VZ container, VZ node has to be enabled. This should be done for any container where LVE support needs to be added:")]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ vzctl set CT_ID --devnodes lve:rw --save\n")])])])]),e._v(" "),a("p",[e._v("To disable LVE support for Container:")]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ vzctl set CT_ID --devnodes lve:none --save\n")])])])]),e._v(" "),a("p",[e._v("Inside the container, follow "),a("RouterLink",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[e._v("standard CloudLinux installation procedures")]),e._v(".")],1),e._v(" "),a("p",[e._v("CloudLinux OS Shared license is required for each VZ container.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Some servers require increasing "),a("code",[e._v("fs.ve-mount-nr")]),e._v(" on host node, otherwise CageFS will throw errors.")])]),a("p",[e._v("To increase "),a("code",[e._v("fs.ve-mount-nr")]),e._v(", on a host node:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("add "),a("span",{staticClass:"notranslate"},[a("code",[e._v("fs.ve-mount-nr = 15000")])]),e._v(" to "),a("span",{staticClass:"notranslte"},[a("code",[e._v("/etc/sysctl.conf")])]),e._v(";")])]),e._v(" "),a("li",[a("p",[e._v("apply it with the "),a("span",{staticClass:"notranslate"},[a("code",[e._v("sysctl -p")])]),e._v(" command.")])])]),e._v(" "),a("p",[e._v("In very rare cases the value should be increased higher, up to 50000.")]),e._v(" "),a("h4",{attrs:{id:"available-functionality-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#available-functionality-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Available functionality")]),e._v(" "),a("ul",[a("li",[e._v("CageFS")]),e._v(" "),a("li",[e._v("PHP Selector")]),e._v(" "),a("li",[e._v("max entry processes")]),e._v(" "),a("li",[e._v("mod_lsapi")]),e._v(" "),a("li",[e._v("MySQL Governor")])]),e._v(" "),a("h2",{attrs:{id:"lilo-boot-loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lilo-boot-loader","aria-hidden":"true"}},[e._v("#")]),e._v(" LILO boot loader")]),e._v(" "),a("p",[e._v("CloudLinux OS Shared can be deployed on servers that don't have grub installed, by installing "),a("span",{staticClass:"notranslate"},[a("code",[e._v("хороgrub")])]),e._v(" first.")]),e._v(" "),a("p",[e._v("To do that:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Make sure grub and kernel packages are not excluded. Edit file "),a("span",{staticClass:"notranslate"},[a("code",[e._v("/etc/yum.conf")])]),e._v(" and check "),a("span",{staticClass:"notranslate"},[a("code",[e._v("exclude=")])]),e._v(" line for presence of "),a("span",{staticClass:"notranslate"},[a("code",[e._v("kernel* grub*")])]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Backup lilo config file:")])])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mv /etc/lilo.conf /etc/lilo.conf.bak\n")])])])]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[e._v("Convert to CloudLinux OS Shared using "),a("span",{staticClass:"notranslate"},[a("RouterLink",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[e._v("deploy2cl")])],1),e._v(" utility.")])]),e._v(" "),a("li",[a("p",[e._v("Check "),a("span",{staticClass:"notranslate"},[a("code",[e._v("grub.conf")])]),e._v(" – it should be configured automatically:")])])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# cat /boot/grub/grub.conf\ndefault=0\ntimeout=5\ntitle CloudLinux Server (2.6.18-294.8.1.el5.lve0.7.33)\n     kernel /boot/vmlinuz-2.6.18-294.8.1.el5.lve0.7.33 root=/dev/sda1  ro\n     root (hd0,0)\n     initrd /boot/initrd-2.6.18-294.8.1.el5.lve0.7.33.img\n     title linux centos5_64\n     kernel /boot/bzImage-2.6.33.5-xxxx-grs-ipv4-64 root=/dev/sda1  ro\n     root (hd0,0)\n")])])])]),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Install grub to master boot record:")])]),e._v(" "),a("div",{staticClass:"notranslate"},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("/sbin/grub-install /dev/sda\n")])])])]),e._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[e._v("Reboot and check that you are running CloudLinux OS Shared. "),a("span",{staticClass:"notranslate"},[a("code",[e._v("uname -r")])]),e._v(" should show something like: "),a("span",{staticClass:"notranslate"},[a("code",[e._v("2.6.18-294.8.1.el5.lve0.7.33")])]),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"upgrade-between-major-distributions-elevation-beta"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-between-major-distributions-elevation-beta","aria-hidden":"true"}},[e._v("#")]),e._v(" Upgrade between major distributions (Elevation) [beta]")]),e._v(" "),a("h3",{attrs:{id:"about-the-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#about-the-project","aria-hidden":"true"}},[e._v("#")]),e._v(" About the project")]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),a("p",[e._v("CloudLinux ELevate project is currently in beta. Expect potenital issues, in particular with third-party packages and/or repositories.\nWe don't recommend to use or test this tool on your production servers unless you're completely sure about what you're doing.")])]),a("p",[e._v("The ELevate project is an initiative to support migrations between major version of RHEL-derivatives.")]),e._v(" "),a("p",[e._v("The CloudLinux Elevate variant, built on top of the "),a("a",{attrs:{href:"https://wiki.almalinux.org/elevate/",target:"_blank",rel:"noopener noreferrer"}},[e._v("AlmaLinux ELevate project"),a("OutboundLink")],1),e._v(", aims to provide a streamlined method of upgrading CloudLinux 7 systems to CloudLinux 8 in-place.")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"https://leapp.readthedocs.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Leapp utility"),a("OutboundLink")],1),e._v(" is the main tool used to perform the upgrade.")]),e._v(" "),a("h3",{attrs:{id:"available-migration-paths"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#available-migration-paths","aria-hidden":"true"}},[e._v("#")]),e._v(" Available migration paths")]),e._v(" "),a("p",[e._v("At the moment, only migrating from CloudLinux 7 to CloudLinux 8 on "),a("em",[e._v("no-panel")]),e._v(" systems is supported.")]),e._v(" "),a("h3",{attrs:{id:"contribution"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contribution","aria-hidden":"true"}},[e._v("#")]),e._v(" Contribution")]),e._v(" "),a("p",[e._v("ELevate is developed and built as a tool for RHEL-based distributives, not just CloudLinux specifically.\nELevate supports migrating to/from other distributions and is open for all to contribute to and enhance.\nYou can find more information and FAQ about the AlmaLinux ELevate this project is built upon at "),a("a",{attrs:{href:"https://almalinux.org/elevate",target:"_blank",rel:"noopener noreferrer"}},[e._v("almalinux.org/elevate"),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"https://wiki.almalinux.org/sigs/Migration",target:"_blank",rel:"noopener noreferrer"}},[e._v("Migration SIG"),a("OutboundLink")],1),e._v(", as well as contribute using the ELevate Contribution Guide.")]),e._v(" "),a("h3",{attrs:{id:"elevate-quickstart-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elevate-quickstart-guide","aria-hidden":"true"}},[e._v("#")]),e._v(" ELevate Quickstart Guide")]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),a("p",[e._v("CloudLinux ELevate project is currently in beta. Expect potenital issues, in particular with third-party packages and/or repositories.")]),e._v(" "),a("p",[e._v("It is "),a("strong",[e._v("highly")]),e._v(" recommended to ensure you have a backup and/or a snapshot of your system before proceeding with the upgrade. Ideally, perform a trial run in a sandbox to verify that migration functions as expected before you attempt to migrate a system.")])]),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),a("p",[e._v("We disclaim responsibility for incorrect or improper use of the tool. The support team will not be able to help you if you have not followed all the steps described in the documentation or converted a server with a control panel present.")]),e._v(" "),a("p",[e._v("In addition, support will not be provided if you have any third-party utilities that do not function after the upgrade, according to "),a("a",{attrs:{href:"https://www.cloudlinux.com/CloudLinux-and-Imunify-support-policy.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("Support policy"),a("OutboundLink")],1),e._v(". Examples: webserver, DNS server, mail server, database server and other utilities that do not belong to our product line.")])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("The ELevate project only supports a subset of package repositories it's aware of. It doesn't support external repositories that aren't present in its "),a("em",[e._v("list of vendors")]),e._v(". Packages from repositories Leapp is unaware of will not be upgraded. This can cause your utilities and services to stop working completely after the update.")]),e._v(" "),a("p",[e._v("This can cause your utilities and services to stop working completely on the post-upgrade machine.")]),e._v(" "),a("p",[a("em",[e._v("In particular, machines with control panels present are highly likely to encounter problems after the upgrade.")])]),e._v(" "),a("p",[e._v("CloudLinux does not provide support related to integrating third-party repositories or packages into the upgrade process. However, you can add the aforementioned components to the Leapp database yourself.\nPlease check the (Third-party integration)[https://github.com/AlmaLinux/leapp-repository/tree/almalinux#third-party-integration] section in the linked README for instructions on integrating external repositories.")])]),a("p",[e._v("This guide contains steps on how to upgrade CloudLinux 7 to CloudLinux 8.")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("First of all, make sure that your CloudLinux 7 is fully upgraded and on the latest kernel version.")])]),e._v(" "),a("li",[a("p",[e._v("After that, download the elevate-testing.repo file with the project testing repo:")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo curl https://repo.almalinux.org/elevate/testing/elevate-testing.repo -o /etc/yum.repos.d/elevate-testing.repo\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Import the ELevate GPG key:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo rpm --import https://repo.almalinux.org/elevate/RPM-GPG-KEY-ELevate\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Install leapp packages and migration data for the CloudLinux OS.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo yum install -y leapp-upgrade leapp-data-cloudlinux\n")])])]),a("h4",{attrs:{id:"preupgrade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preupgrade","aria-hidden":"true"}},[e._v("#")]),e._v(" Preupgrade")]),e._v(" "),a("p",[e._v("Start a preupgrade check. In the meanwhile, the Leapp utility creates a special "),a("code",[e._v("/var/log/leapp/leapp-report.txt")]),e._v(" file that contains possible problems and recommended solutions. No rpm packages will be installed at this phase.")]),e._v(" "),a("div",{staticClass:"danger custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),a("p",[e._v("The preupgrade check will likely fail as the default CloudLinux 7 doesn't meet all requirements for migration. That is expected.")])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo leapp preupgrade\n")])])]),a("p",[e._v("This summary report will help you get a picture of whether it is possible to continue the upgrade.")]),e._v(" "),a("p",[e._v("The preupgrade process may stall with the following message:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Inhibitor: Newest installed kernel not in use\n")])])]),a("p",[e._v("Make sure your system is running the latest kernel before proceeding with the upgrade. If you updated the system recently, a reboot may be sufficient to do so. Otherwise, edit your Grub configuration accordingly.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("In certain configurations, Leapp generates "),a("code",[e._v("/var/log/leapp/answerfile")]),e._v(" with true/false questions. Leapp utility requires answers to all these questions in order to proceed with the upgrade.")])]),a("p",[e._v("Once the preupgrade process completes, the results will be contained in the file "),a("code",[e._v("/var/log/leapp/leapp-report.txt")]),e._v(".\nIt's advised to review the report and consider how the changes will affect your system.")]),e._v(" "),a("p",[e._v("Should any packages or package repositories that are unknown to Leapp be detected, they will also be listed in the report. Consider how leaving the listed items unupgraded will affect the stability of your system.")]),e._v(" "),a("p",[e._v("If the packages listed as unknown in the report are critical for your system, consider adding the associated repositories to Leapp's database, as described (here)[https://github.com/AlmaLinux/leapp-repository/tree/almalinux#third-party-integration].")]),e._v(" "),a("h5",{attrs:{id:"common-upgrade-inhibitors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#common-upgrade-inhibitors","aria-hidden":"true"}},[e._v("#")]),e._v(" Common upgrade inhibitors")]),e._v(" "),a("p",[e._v("The following actions from the "),a("code",[e._v("/var/log/leapp/leapp-report.txt")]),e._v(" file are seen most often:")]),e._v(" "),a("h4",{attrs:{id:"kernel-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kernel-modules","aria-hidden":"true"}},[e._v("#")]),e._v(" Kernel modules")]),e._v(" "),a("p",[e._v("Some kernel modules are deprecated in the CloudLinux 8 major versions. To proceed with the upgade, unload them.\nLeapp will advise on the list of modules to be removed.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rmmod floppy pata_acpi btrfs\n")])])]),a("h4",{attrs:{id:"sshd-config-default-mismatch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sshd-config-default-mismatch","aria-hidden":"true"}},[e._v("#")]),e._v(" SSHD config default mismatch")]),e._v(" "),a("p",[e._v('If your OpenSSH configuration file does not explicitly state the option PermitRootLogin in sshd_config file, this upgrade inhibitor will apperar.\nThe option\'s default is "yes" in RHEL7, but will change in RHEL8 to "prohibit-password", which may affect your ability to log onto this machine after the upgrade.')]),e._v(" "),a("p",[e._v("To prevent this from occuring, set the PermitRootLogin option explicity to preserve the default behaivour after migration:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("echo PermitRootLogin yes | sudo tee -a /etc/ssh/sshd_config\n")])])]),a("p",[e._v("or configure the SSHD so that the option is present explicitly, without leaving it to the default behaviour.")]),e._v(" "),a("h4",{attrs:{id:"disabling-pam-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-pam-modules","aria-hidden":"true"}},[e._v("#")]),e._v(" Disabling PAM modules")]),e._v(" "),a("p",[e._v("PAM module pam_pkcs11 is no longer available in RHEL-8 since it was replaced by SSSD.\nLeaving this module in PAM configuration may lock out the system.")]),e._v(" "),a("p",[e._v("Allow Leapp to disable the pam_pkcs11 module in PAM configuration by adding an entry to the Leapp answerfile:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sudo leapp answer --section remove_pam_pkcs11_module_check.confirm=True\n")])])]),a("h4",{attrs:{id:"upgrade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrade","aria-hidden":"true"}},[e._v("#")]),e._v(" Upgrade")]),e._v(" "),a("p",[e._v("Start an upgrade. You’ll be offered to reboot the system after this process is completed.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" leapp upgrade\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("reboot")]),e._v("\n")])])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("The upgrade process after the reboot may take a long time, up to 40-50 minutes, depending on the machine resources. If the machine remains unresponsive for more than 2 hours, assume that the upgrade process has failed during the post-reboot phase.\nIf it's still possible to access the machine in some way, for example, through remote VNC access, the logs containing the information on what went wrong are located in this folder: "),a("code",[e._v("/var/log/leapp")]),e._v(".")])]),a("p",[e._v("A new entry in GRUB called ELevate-Upgrade-Initramfs will appear. The system will be automatically booted into it. Observe the update process in the console.")]),e._v(" "),a("p",[e._v("After the reboot, login into the system and check the migration report. Verify that the current OS is the one you need.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" /etc/redhat-release\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" /etc/os-release\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("rpm")]),e._v(" -qa "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" el7 "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# check if there are unupgraded packages present")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" /var/log/leapp/leapp-report.txt\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" /var/log/leapp/leapp-upgrade.log\n")])])]),a("p",[e._v("In addition, check the leapp logs for .rpmnew configuration files that may have been created during the upgrade process. In some cases os-release or yum package files may not be replaced automatically, requiring the user to rename the .rpmnew files manually.")]),e._v(" "),a("h2",{attrs:{id:"uninstalling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uninstalling","aria-hidden":"true"}},[e._v("#")]),e._v(" Uninstalling")]),e._v(" "),a("p",[e._v("You can always uninstall CloudLinux OS Shared. In this case, the system will be converted back to AlmaLinux or CentOS* (Depends on what system the conversion was done from).")]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),a("p",[e._v("CentOS Linux 8 reached End Of Life (EOL) on December 31st, 2021. You can still uninstall CloudLinux and return to CentOS 8, but we don't guarantee stable operation of the system and its repositories after this action.")])]),a("p",[e._v("The following actions will be taken:")]),e._v(" "),a("ol",[a("li",[e._v("LVE related packages will be removed.")]),e._v(" "),a("li",[e._v("CloudLinux OS Shared repositories & "),a("span",{staticClass:"notranslate"},[e._v("yum")]),e._v(" plugin will be removed.")]),e._v(" "),a("li",[e._v("AlmaLinux or CentOS* repositories will be set up.")])]),e._v(" "),a("p",[e._v("In the end, the script will provide instructions on how to finish the conversion back to AlmaLinux or CentOS*. That will require removal of CloudLinux OS Shared kernel (manual step), and installation of AlmaLinux or CentOS* kernel (if needed).")]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),a("p",[e._v("Do not forget to free up a CloudLinux OS Shared license by removing the server from the "),a("a",{attrs:{href:"https://docs.cln.cloudlinux.com/dashboard/#servers",target:"_blank",rel:"noopener noreferrer"}},[e._v("Servers section of your CLN account"),a("OutboundLink")],1),e._v(". After that, if you don't intend to use the license anymore, you can "),a("a",{attrs:{href:"https://docs.cln.cloudlinux.com/dashboard/#cloudlinux-os-activation-keys",target:"_blank",rel:"noopener noreferrer"}},[e._v("remove it"),a("OutboundLink")],1),e._v(" to avoid being billed for it.")])]),a("p",[e._v("To uninstall CloudLinux OS Shared, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ wget -O cldeploy https://repo.cloudlinux.com/cloudlinux/sources/cln/cldeploy\n$ sh cldeploy -c\n")])])]),a("p",[e._v("Now you have converted back to AlmaLinux or CentOS* and it is the time to install kernel.")]),e._v(" "),a("p",[e._v("To delete CloudLinux OS Shared kernel, run (change the kernel package name to the one you've been using):")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rpm -e --nodeps $(rpm -qa | grep kernel | grep lve)\n")])])]),a("p",[e._v("To install new AlmaLlinux or CentOS* kernel once you deleted CloudLinux OS Shared kernel, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yum install kernel\n")])])]),a("p",[e._v("If "),a("code",[e._v("yum")]),e._v(" says that the latest kernel is already installed, it is OK.")]),e._v(" "),a("p",[e._v("Please check your bootloader configuration before rebooting the system.")]),e._v(" "),a("p",[e._v("To remove unused kmods and lve libs, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yum remove lve kmod*lve*\n")])])]),a("p",[e._v("Kernel package and related LVE packages should be deleted and the required kernel will be installed.")]),e._v(" "),a("p",[e._v("Before the reboot, the following command should be executed for restoring Apache and httpd.conf without mod_hostinglimits.")]),e._v(" "),a("p",[a("strong",[e._v("For EasyApache 3:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("/scripts/easyapache --build\n")])])]),a("p",[a("strong",[e._v("For EasyApache 4:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("/usr/local/bin/ea_install_profile --install /etc/cpanel/ea4/profiles/cpanel/default.json\n")])])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Some of the packages from CloudLinux OS Shared repo will still be present. They are the same as AlmaLinux or CentOS* packages, and don't have to be removed. They will be updated in the future from AlmaLinux or CentOS* repositories, as new versions come out.")])])])},[],!1,null,null,null);t.default=s.exports}}]);