<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CloudLinux OS kernel | Documentation</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="icon" href="/favicon.ico">
    <script>(function(w) {
var s = document.createElement('script');
s.src = 'https://survey.survicate.com/workspaces/8e05b856a98802352b97e8fd3118de1f/web_surveys.js';
s.async = true;
var e = document.getElementsByTagName('script')[0];
e.parentNode.insertBefore(s, e);
})(window);</script>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T538N4K');</script>
    <meta name="description" content="This documentation describes specific features of the CloudLinux kernel. In other cases the kernel has the same features and innovations as any similar RHEL kernel.
More information about the actual kernel changes and releases can be obtained from our changelog.">
    <meta name="twitter:title" content="CloudLinux OS kernel">
    <meta name="twitter:description" content="This documentation describes specific features of the CloudLinux kernel. In other cases the kernel has the same features and innovations as any similar RHEL kernel.
More information about the actual kernel changes and releases can be obtained from our changelog.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://docs.cloudlinux.com/cloudlinux_os_kernel/">
    <meta property="og:type" content="article">
    <meta property="og:title" content="CloudLinux OS kernel">
    <meta property="og:description" content="This documentation describes specific features of the CloudLinux kernel. In other cases the kernel has the same features and innovations as any similar RHEL kernel.
More information about the actual kernel changes and releases can be obtained from our changelog.">
    <meta property="og:url" content="https://docs.cloudlinux.com/cloudlinux_os_kernel/">
    <meta property="og:site_name" content="CloudLinux OS Documentation">
    <meta itemprop="name" content="CloudLinux OS kernel">
    <meta itemprop="description" content="This documentation describes specific features of the CloudLinux kernel. In other cases the kernel has the same features and innovations as any similar RHEL kernel.
More information about the actual kernel changes and releases can be obtained from our changelog.">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' 'unsafe-inline' 'unsafe-eval' *.survicate.com *.googletagmanager.com *.google-analytics.com *.licdn.com *.hotjar.com *.twitter.com *.facebook.net *.kernelcare.info *.twitter.com *.ads-twitter.com;">
    <meta name="referrer" content="unsafe-url">
    <link rel="preload" href="/assets/css/0.styles.be606c55.css" as="style"><link rel="preload" href="/assets/js/app.287d6136.js" as="script"><link rel="preload" href="/assets/js/4.b561ef3b.js" as="script"><link rel="preload" href="/assets/js/1.f24c50a8.js" as="script"><link rel="preload" href="/assets/js/27.0d91c165.js" as="script"><link rel="preload" href="/assets/js/21.ccb55f44.js" as="script"><link rel="prefetch" href="/assets/js/10.6a355ddb.js"><link rel="prefetch" href="/assets/js/11.4767892e.js"><link rel="prefetch" href="/assets/js/12.6d5bac0e.js"><link rel="prefetch" href="/assets/js/13.7602e998.js"><link rel="prefetch" href="/assets/js/14.ef07845e.js"><link rel="prefetch" href="/assets/js/15.62047d81.js"><link rel="prefetch" href="/assets/js/16.a5215dac.js"><link rel="prefetch" href="/assets/js/17.46875c4f.js"><link rel="prefetch" href="/assets/js/18.33ac18ee.js"><link rel="prefetch" href="/assets/js/19.30b0a40a.js"><link rel="prefetch" href="/assets/js/20.72526d82.js"><link rel="prefetch" href="/assets/js/22.97d9a935.js"><link rel="prefetch" href="/assets/js/23.82027c06.js"><link rel="prefetch" href="/assets/js/24.3f173eae.js"><link rel="prefetch" href="/assets/js/25.082ab251.js"><link rel="prefetch" href="/assets/js/26.ddff573d.js"><link rel="prefetch" href="/assets/js/28.1dcc32c0.js"><link rel="prefetch" href="/assets/js/29.2181c355.js"><link rel="prefetch" href="/assets/js/30.d05c3a05.js"><link rel="prefetch" href="/assets/js/31.0f8c87ff.js"><link rel="prefetch" href="/assets/js/32.87cd2c8d.js"><link rel="prefetch" href="/assets/js/33.bef974be.js"><link rel="prefetch" href="/assets/js/34.c0d1b8fa.js"><link rel="prefetch" href="/assets/js/35.e4afc08d.js"><link rel="prefetch" href="/assets/js/36.0e4ba6fa.js"><link rel="prefetch" href="/assets/js/37.b25d1d7d.js"><link rel="prefetch" href="/assets/js/38.ae91fb45.js"><link rel="prefetch" href="/assets/js/39.b2b97c4d.js"><link rel="prefetch" href="/assets/js/40.f0448f1b.js"><link rel="prefetch" href="/assets/js/41.6853fe2f.js"><link rel="prefetch" href="/assets/js/42.5e3c4ebb.js"><link rel="prefetch" href="/assets/js/43.ea1d3d6f.js"><link rel="prefetch" href="/assets/js/44.835ec46c.js"><link rel="prefetch" href="/assets/js/45.ced0c47d.js"><link rel="prefetch" href="/assets/js/46.2a4c7676.js"><link rel="prefetch" href="/assets/js/47.ca78e618.js"><link rel="prefetch" href="/assets/js/48.91e6a998.js"><link rel="prefetch" href="/assets/js/5.54539d0c.js"><link rel="prefetch" href="/assets/js/6.488fcfb0.js"><link rel="prefetch" href="/assets/js/7.589b8741.js"><link rel="prefetch" href="/assets/js/8.686d3a06.js"><link rel="prefetch" href="/assets/js/9.b38da434.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.318b68d8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.be606c55.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/introduction/" class="home-link"><img src="/logo.svg" alt="Documentation" class="logo"> <span class="site-name site-name--documentation can-hide">Documentation</span></a> <form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <div class="links" style="max-width:nullpx;"><a href="https://www.cloudlinux.com/support-portal/" target="_blank" class="btn">
      Support Portal
    </a> <!----> <a href="https://cloudlinux.com/trial" target="_blank" class="btn">
      Try Free
    </a> <nav class="nav-links can-hide"></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><!----> <ul class="sidebar-group-items"><li><div class="sidebar-header sidebar-link"><div><a href="/introduction/" class="sidebar-link">Introduction</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/introduction/#cloudlinux-os-editions" class="sidebar-link">CloudLinux OS editions</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/introduction/#cloudlinux-9-beta" class="sidebar-link">CloudLinux 9 beta</a></div></li><li class="sidebar-sub-header"><div><a href="/introduction/#cloudlinux-os-solo" class="sidebar-link">CloudLinux OS Solo</a></div></li><li class="sidebar-sub-header"><div><a href="/introduction/#cloudlinux-os-admin" class="sidebar-link">CloudLinux OS Admin</a></div></li><li class="sidebar-sub-header"><div><a href="/introduction/#cloudlinux-os-shared-pro" class="sidebar-link">CloudLinux OS Shared (Pro)</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/introduction/#cloudlinux-os-components" class="sidebar-link">CloudLinux OS components</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/introduction/#cloudlinux-os-life-cycle" class="sidebar-link">CloudLinux OS life cycle</a></div></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/cloudlinux_installation/" class="sidebar-link">Installation</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_installation/#hardware-compatibility" class="sidebar-link">Hardware compatibility</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_installation/#getting-license" class="sidebar-link">Getting license</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#getting-trial-license" class="sidebar-link">Getting trial license</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_installation/#converting-existing-servers" class="sidebar-link">Converting existing servers</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#requirements" class="sidebar-link">Requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#downloading-and-running-conversion-script" class="sidebar-link">Downloading and running conversion script</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#next-steps" class="sidebar-link">Next steps</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#troubleshooting" class="sidebar-link">Troubleshooting</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#technical-details-how-to-enable-secure-boot-for-cl9" class="sidebar-link">Technical details: How to enable secure boot for cl9</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#technical-details-cldeploy" class="sidebar-link">Technical details: cldeploy</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_installation/#installing-new-servers" class="sidebar-link">Installing new servers</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#downloading-iso" class="sidebar-link">Downloading ISO</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#installing-using-the-graphical-user-interface" class="sidebar-link">Installing using the Graphical User Interface</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#license-activation" class="sidebar-link">License activation</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_installation/#cloud-provider-images-cloudlinux-os-shared-only" class="sidebar-link">Cloud provider images (CloudLinux OS Shared only)</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#cloudlinux-azure-images" class="sidebar-link">CloudLinux Azure Images</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#xen-images" class="sidebar-link">Xen images</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_installation/#provider-specific-guidelines-cloudlinux-os-shared-only" class="sidebar-link">Provider-specific guidelines (CloudLinux OS Shared only)</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#aws" class="sidebar-link">AWS</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#h-sphere" class="sidebar-link">H-Sphere</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#digitalocean" class="sidebar-link">DigitalOcean</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#linode" class="sidebar-link">Linode</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#virtuozzo-and-openvz" class="sidebar-link">Virtuozzo and OpenVZ</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_installation/#lilo-boot-loader" class="sidebar-link">LILO boot loader</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_installation/#upgrade-between-major-distributions-elevation-beta" class="sidebar-link">Upgrade between major distributions (Elevation) [beta]</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#about-the-project" class="sidebar-link">About the project</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#available-migration-paths" class="sidebar-link">Available migration paths</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#contribution" class="sidebar-link">Contribution</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_installation/#elevate-quickstart-guide" class="sidebar-link">ELevate Quickstart Guide</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_installation/#uninstalling" class="sidebar-link">Uninstalling</a></div></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/limits/" class="sidebar-link">Limits</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/limits/#understanding-limits" class="sidebar-link">Understanding limits</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/limits/#speed-limit" class="sidebar-link">SPEED limit</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/limits/#memory-limit" class="sidebar-link">Memory limit</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/limits/#virtual-memory-limit" class="sidebar-link">Virtual memory limit</a></div></li><li class="sidebar-sub-header"><div><a href="/limits/#physical-memory-limit" class="sidebar-link">Physical memory limit</a></div></li><li class="sidebar-sub-header"><div><a href="/limits/#troubleshooting" class="sidebar-link">Troubleshooting</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/limits/#io" class="sidebar-link">IO</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/limits/#iops" class="sidebar-link">IOPS</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/limits/#entry-processes" class="sidebar-link">Entry processes</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/limits/#number-of-processes" class="sidebar-link">Number of processes</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/limits/#inodes" class="sidebar-link">Inodes</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/limits/#network-traffic-bandwidth-control-and-accounting-system" class="sidebar-link">Network traffic bandwidth control and accounting system</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/limits/#how-to-limit-outgoing-network-traffic" class="sidebar-link">How to limit outgoing network traffic</a></div></li><li class="sidebar-sub-header"><div><a href="/limits/#traffic-accounting" class="sidebar-link">Traffic accounting</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/limits/#limits-validation" class="sidebar-link">Limits validation</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/limits/#compatibility-matrix" class="sidebar-link">Compatibility matrix</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/limits/#reseller-limits" class="sidebar-link">Reseller limits</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/limits/#design" class="sidebar-link">Design</a></div></li><li class="sidebar-sub-header"><div><a href="/limits/#requirements" class="sidebar-link">Requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/limits/#configuration" class="sidebar-link">Configuration</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/limits/#web-interface-resource-limiting-modes" class="sidebar-link">WEB interface resource limiting modes</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/limits/#requirements-2" class="sidebar-link">Requirements:</a></div></li></ul></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/lve_manager/" class="sidebar-link">CloudLinux Manager UI</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/lve_manager/#installation-wizard" class="sidebar-link">Installation wizard</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/lve_manager/#cloudlinux-manager" class="sidebar-link">CloudLinux Manager</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/lve_manager/#dashboard" class="sidebar-link">Dashboard</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#current-usage" class="sidebar-link">Current usage</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#users" class="sidebar-link">Users</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#statistics" class="sidebar-link">Statistics</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#options" class="sidebar-link">Options</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#packages" class="sidebar-link">Packages</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#php-selector-2" class="sidebar-link">PHP Selector</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#python-selector-2" class="sidebar-link">Python Selector</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#node-js-selector-2" class="sidebar-link">Node.js Selector</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#website-monitoring-tool-and-slow-site-analyzer" class="sidebar-link">Website monitoring tool and Slow Site analyzer</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#reseller-interface" class="sidebar-link">Reseller interface</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#lve-plugins-branding" class="sidebar-link">LVE plugins branding</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#user-message-for-php-version" class="sidebar-link">User message for PHP version</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/lve_manager/#client-plugins" class="sidebar-link">Client plugins</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/lve_manager/#resource-usage-client-plugin" class="sidebar-link">Resource Usage client plugin</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#python-selector-client-plugin" class="sidebar-link">Python Selector client plugin</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#node-js-selector-client-plugin" class="sidebar-link">Node.js Selector client plugin</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#ruby-selector-client-plugin" class="sidebar-link">Ruby Selector client plugin</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#php-selector-client-plugin" class="sidebar-link">PHP Selector client plugin</a></div></li><li class="sidebar-sub-header"><div><a href="/lve_manager/#cloudlinux-manager-options" class="sidebar-link">CloudLinux Manager options</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/lve_manager/#cpanel-lve-extension" class="sidebar-link">cPanel LVE Extension</a></div></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/cloudlinux-os-plus/" class="sidebar-link">CloudLinux OS Shared Pro</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux-os-plus/#x-ray" class="sidebar-link">X-Ray</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#description" class="sidebar-link">Description</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#known-limitations" class="sidebar-link">Known limitations</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#installation" class="sidebar-link">Installation</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#how-to-manage-x-ray" class="sidebar-link">How to manage X-Ray</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#managing-tracing-task" class="sidebar-link">Managing tracing task</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#managing-continuous-tasks" class="sidebar-link">Managing continuous tasks</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#x-ray-autotracing" class="sidebar-link">X-Ray Autotracing</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#x-ray-smart-advice" class="sidebar-link">X-Ray Smart Advice</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#end-user-x-ray-plugin" class="sidebar-link">End-user X-Ray plugin</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#x-ray-automated-throttling-detection" class="sidebar-link">X-Ray automated throttling detection</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#x-ray-client" class="sidebar-link">X-Ray client</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#x-ray-agent" class="sidebar-link">X-Ray agent</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#faq" class="sidebar-link">FAQ</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux-os-plus/#centralized-monitoring" class="sidebar-link">Centralized Monitoring</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#description-2" class="sidebar-link">Description</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#installation-2" class="sidebar-link">Installation</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#centralized-monitoring-mode-without-session-expired" class="sidebar-link">Centralized Monitoring: mode without session expired</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#centralized-monitoring-user-interface" class="sidebar-link">Centralized Monitoring user interface</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#alert-manager" class="sidebar-link">Alert Manager</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#faq-2" class="sidebar-link">FAQ</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#troubleshooting" class="sidebar-link">Troubleshooting</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#known-issues" class="sidebar-link">Known issues</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux-os-plus/#acceleratewp" class="sidebar-link">AccelerateWP</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#overview" class="sidebar-link">Overview</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#limitations" class="sidebar-link">Limitations</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#administrator-interface" class="sidebar-link">Administrator interface</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#disable-acceleratewp-for-a-particular-user" class="sidebar-link">Disable AccelerateWP for a particular user</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#disable-acceleratewp" class="sidebar-link">Disable AccelerateWP</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#logs" class="sidebar-link">Logs</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#faq-3" class="sidebar-link">FAQ</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux-os-plus/#troubleshooting-2" class="sidebar-link">Troubleshooting</a></div></li></ul></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/cloudlinux-os-admin/" class="sidebar-link">CloudLinux OS Admin</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux-os-admin/#description" class="sidebar-link">Description</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux-os-admin/#installation" class="sidebar-link">Installation</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux-os-admin/#components" class="sidebar-link">Components</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux-os-admin/#faq" class="sidebar-link">FAQ</a></div></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/cloudlinux_os_components/" class="sidebar-link">CloudLinux OS components</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#lve-stats-2" class="sidebar-link">LVE-Stats 2</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#general-information-and-requirements-2" class="sidebar-link">General information and requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-and-update" class="sidebar-link">Installation and update</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#configuration" class="sidebar-link">Configuration</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#lve-stats2-and-db-servers-compatible-work-setup" class="sidebar-link">LVE-stats2 and DB servers compatible work setup</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#plugins" class="sidebar-link">Plugins</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#troubleshooting" class="sidebar-link">Troubleshooting</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#cagefs" class="sidebar-link">CageFS</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#general-information-and-requirements-3" class="sidebar-link">General information and requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-and-update-2" class="sidebar-link">Installation and update</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#uninstalling" class="sidebar-link">Uninstalling</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#managing-users" class="sidebar-link">Managing users</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#configuration-2" class="sidebar-link">Configuration</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#integration-with-control-panels" class="sidebar-link">Integration with control panels</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#mysql-governor" class="sidebar-link">MySQL Governor</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#general-information-and-requirements-4" class="sidebar-link">General information and requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#mysql-governor-limits-interaction-with-lve-limits" class="sidebar-link">MySQL Governor limits interaction with LVE limits</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-and-update-3" class="sidebar-link">Installation and update</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#uninstalling-2" class="sidebar-link">Uninstalling</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#configuration-and-operation" class="sidebar-link">Configuration and operation</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#backing-up-mysql" class="sidebar-link">Backing up MySQL</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#mysql-governor-improvements-for-cpu-calculation" class="sidebar-link">MySQL Governor improvements  for  CPU calculation</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#faq" class="sidebar-link">FAQ</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#troubleshooting-2" class="sidebar-link">Troubleshooting</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#known-limitations" class="sidebar-link">Known limitations</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#php-selector" class="sidebar-link">PHP Selector</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#general-information-and-requirements-5" class="sidebar-link">General information and requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-and-update-4" class="sidebar-link">Installation and update</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-instructions-for-cpanel-users" class="sidebar-link">Installation instructions for cPanel users</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#litespeed-support" class="sidebar-link">LiteSpeed support</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#ispmanager-support" class="sidebar-link">ISPmanager support</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#uninstalling-3" class="sidebar-link">Uninstalling</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#configuration-and-using" class="sidebar-link">Configuration and using</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#integration-with-control-panels-2" class="sidebar-link">Integration with control panels</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#bundled-php-extensions" class="sidebar-link">Bundled PHP extensions</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#python-selector" class="sidebar-link">Python Selector</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#general-information" class="sidebar-link">General information</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#requirements" class="sidebar-link">Requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#supported-versions" class="sidebar-link">Supported versions</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-2" class="sidebar-link">Installation</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#ruby-selector" class="sidebar-link">Ruby Selector</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#general-information-and-requirements-6" class="sidebar-link">General information and requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-and-update-5" class="sidebar-link">Installation and update</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#configuration-and-using-2" class="sidebar-link">Configuration and using</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#node-js-selector" class="sidebar-link">Node.js Selector</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#general-information-and-requirements-7" class="sidebar-link">General information and requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-and-update-6" class="sidebar-link">Installation and update</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#node-js-deployment" class="sidebar-link">Node.js deployment</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#troubleshooting-3" class="sidebar-link">Troubleshooting</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#apache-mod-lsapi-pro" class="sidebar-link">Apache mod_lsapi PRO</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#general-information-and-requirements-8" class="sidebar-link">General information and requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-3" class="sidebar-link">Installation</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#uninstalling-4" class="sidebar-link">Uninstalling</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#configuration-4" class="sidebar-link">Configuration</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#troubleshooting-4" class="sidebar-link">Troubleshooting</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#criu-support-2" class="sidebar-link">CRIU Support</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#additional-integration-components" class="sidebar-link">Additional integration components</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#lve-pam-module" class="sidebar-link">LVE PAM module</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#lve-wrappers" class="sidebar-link">LVE wrappers</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#mpm-itk" class="sidebar-link">MPM ITK</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#hostinglimits-module-for-apache" class="sidebar-link">HostingLimits module for Apache</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#cpanel-whm-json-api" class="sidebar-link">cPanel/WHM JSON API</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#mod-proctitle" class="sidebar-link">mod_proctitle</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#alt-suexec" class="sidebar-link">alt-suexec</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#cpanel-nginx-and-application-selectors" class="sidebar-link">cPanel Nginx and application selectors</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#how-to-use-certbot-with-alt-python36" class="sidebar-link">How to use Certbot with alt-python36</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_components/#apache-suexec-module" class="sidebar-link">Apache suexec module</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#general-information-and-requirements-9" class="sidebar-link">General information and requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#configuration-5" class="sidebar-link">Configuration</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_components/#installation-5" class="sidebar-link">Installation</a></div></li></ul></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/command-line_tools/" class="sidebar-link">Command-line tools (CLI)</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/command-line_tools/#cagefs" class="sidebar-link">CageFS</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/command-line_tools/#lve-stats-2" class="sidebar-link">LVE-stats 2</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/command-line_tools/#mysql-governor" class="sidebar-link">MySQL Governor</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/command-line_tools/#php-selector" class="sidebar-link">PHP Selector</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/command-line_tools/#python-selector" class="sidebar-link">Python Selector</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/command-line_tools/#new-python-selector" class="sidebar-link">New Python Selector</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#old-python-selector" class="sidebar-link">Old Python Selector</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/command-line_tools/#ruby-selector" class="sidebar-link">Ruby Selector</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/command-line_tools/#node-js-selector" class="sidebar-link">Node.js Selector</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/command-line_tools/#apache-mod-lsapi-pro" class="sidebar-link">Apache mod_lsapi PRO</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/command-line_tools/#website-monitoring-tool-and-slow-site-analyzer" class="sidebar-link">Website Monitoring tool and Slow Site analyzer</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/command-line_tools/#the-cloudlinux-ssa-manager-utility" class="sidebar-link">The cloudlinux-ssa-manager utility</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#the-wmt-api-utility" class="sidebar-link">The wmt-api utility</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/command-line_tools/#x-ray-autotracing" class="sidebar-link">X-Ray Autotracing</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/command-line_tools/#the-cloudlinux-autotracing-utility" class="sidebar-link">The cloudlinux-autotracing utility</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/command-line_tools/#other-cli-tools" class="sidebar-link">Other CLI tools</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/command-line_tools/#cldeploy" class="sidebar-link">cldeploy</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#lvectl" class="sidebar-link">lvectl</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#lveps" class="sidebar-link">lveps</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#lvetop" class="sidebar-link">lvetop</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#cldetect" class="sidebar-link">cldetect</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#cldiag" class="sidebar-link">cldiag</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#cloudlinux-config" class="sidebar-link">cloudlinux-config</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#cl-quota" class="sidebar-link">cl-quota</a></div></li><li class="sidebar-sub-header"><div><a href="/command-line_tools/#cloudlinux-limits" class="sidebar-link">cloudlinux-limits</a></div></li></ul></li></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/control_panel_integration/" class="sidebar-link">Control panel integration</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/control_panel_integration/#general" class="sidebar-link">General</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#versioning" class="sidebar-link">Versioning</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#changelog" class="sidebar-link">Changelog</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/control_panel_integration/#control-panel-api-integration" class="sidebar-link">Control panel API integration</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#integration-scripts-requirements" class="sidebar-link">Integration scripts requirements</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#working-with-cpapi-cagefs" class="sidebar-link">Working with CPAPI &amp; CageFS</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#expected-scripts-responses" class="sidebar-link">Expected scripts responses</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#the-list-of-the-integration-scripts" class="sidebar-link">The list of the integration scripts</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/control_panel_integration/#control-panel-hooks-integration" class="sidebar-link">Control panel hooks integration</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#managing-administrators" class="sidebar-link">Managing administrators</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#managing-users" class="sidebar-link">Managing users</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#managing-domains" class="sidebar-link">Managing domains</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/control_panel_integration/#web-ui-integration" class="sidebar-link">Web UI integration</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#ui-user-info-script" class="sidebar-link">ui-user-info script</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/control_panel_integration/#php-based-integration-of-web-ui-with-the-control-panel" class="sidebar-link">PHP-based integration of WEB UI with the control panel</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#ui-with-cagefs-enabled" class="sidebar-link">UI with CageFS enabled</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/control_panel_integration/#how-to-integrate-cagefs-with-a-control-panel" class="sidebar-link">How to integrate CageFS with a control panel</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#cagefs-min-uid" class="sidebar-link">CageFS MIN_UID</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#pam-configuration-for-cagefs" class="sidebar-link">PAM configuration for CageFS</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#integrating-cagefs-with-apache" class="sidebar-link">Integrating CageFS with Apache</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#running-commands-inside-cagefs" class="sidebar-link">Running commands inside CageFS</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#cagefs-temporary-lves-with-lvectl-options" class="sidebar-link">CageFS - temporary LVEs with lvectl options</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#updating-cagefs-skeleton" class="sidebar-link">Updating CageFS skeleton</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#setting-up-directories-for-php-sessions" class="sidebar-link">Setting up directories for PHP sessions</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#creating-new-user-account" class="sidebar-link">Creating new user account</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#modifying-user-accounts" class="sidebar-link">Modifying user accounts</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#removing-user-accounts" class="sidebar-link">Removing user accounts</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#excluding-users-from-cagefs" class="sidebar-link">Excluding users from CageFS</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#how-to-add-a-file-or-a-directory-to-cagefs" class="sidebar-link">How to add a file or a directory to CageFS</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#users-home-directory" class="sidebar-link">Users' home directory</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#excluding-files-from-cagefs" class="sidebar-link">Excluding files from CageFS</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#executing-commands-outside-cagefs-via-proxyexec" class="sidebar-link">Executing commands outside CageFS via proxyexec</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#filtering-options-for-commands-executed-by-proxyexec" class="sidebar-link">Filtering options for commands executed by proxyexec</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/control_panel_integration/#integrating-cloudlinux-os-shared-php-selector" class="sidebar-link">Integrating CloudLinux OS Shared PHP Selector</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/control_panel_integration/#integration-of-apache-modules-in-control-panels" class="sidebar-link">Integration of Apache modules in control panels</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#alt-mod-passenger" class="sidebar-link">alt-mod-passenger</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#mod-hostinglimits" class="sidebar-link">mod_hostinglimits</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#mod-lsapi" class="sidebar-link">mod_lsapi</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/control_panel_integration/#mysql-governor" class="sidebar-link">MySQL Governor</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/control_panel_integration/#cloudlinux-os-shared-lve-and-cagefs-patches" class="sidebar-link">CloudLinux OS Shared LVE and CageFS patches</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/control_panel_integration/#hardened-php" class="sidebar-link">Hardened PHP</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/control_panel_integration/#cloudlinux-os-shared-kernel-set-up" class="sidebar-link">CloudLinux OS Shared kernel set-up</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#proc-filesystem-access-control" class="sidebar-link">/proc filesystem access control</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#symlink-protection" class="sidebar-link">Symlink protection</a></div></li><li class="sidebar-sub-header"><div><a href="/control_panel_integration/#file-system-quotas" class="sidebar-link">File system quotas</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/control_panel_integration/#how-to-integrate-x-ray-with-a-control-panel" class="sidebar-link">How to integrate X-Ray with a control panel</a></div></li></ul></li><li><div class="active collapsed sidebar-header sidebar-link"><div class="active"><a href="/cloudlinux_os_kernel/" class="active sidebar-link">CloudLinux OS kernel</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#hybrid-kernels" class="sidebar-link">Hybrid Kernels</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#securelinks-and-link-traversal-protection" class="sidebar-link">SecureLinks and Link Traversal Protection</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_kernel/#file-change-api" class="sidebar-link">File change API</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#general" class="sidebar-link">General</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#usage-and-integration" class="sidebar-link">Usage and integration</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#installation-and-configuration" class="sidebar-link">Installation and configuration</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#configuration-details" class="sidebar-link">Configuration details</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#low-level-access" class="sidebar-link">Low-level access</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#tuned-profiles-cloudlinux" class="sidebar-link">Tuned-profiles-cloudlinux</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#kernel-config-variables" class="sidebar-link">Kernel config variables</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_kernel/#virtualized-proc-filesystem" class="sidebar-link">Virtualized /proc filesystem</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#remounting-procfs-with-hidepid-option" class="sidebar-link">Remounting procfs with &quot;hidepid&quot; option</a></div></li><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#remounting-procfs-on-cloudlinux-os-shared-8" class="sidebar-link">Remounting procfs on CloudLinux OS Shared 8</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#ptrace-block" class="sidebar-link">Ptrace block</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#xen-xvda" class="sidebar-link">Xen XVDA</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#umask-behavior" class="sidebar-link">Umask behavior</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#io-limits-latency" class="sidebar-link">IO limits latency</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#reading-lve-usage" class="sidebar-link">Reading LVE usage</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#flashcache" class="sidebar-link">Flashcache</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#oom-killer-for-lve-processes" class="sidebar-link">OOM killer for LVE processes</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#file-system-quotas" class="sidebar-link">File system quotas</a></div></li><li class="collapsible sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#enter-lve-when-using-cpanel-utilities" class="sidebar-link">Enter LVE when using cPanel utilities</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/cloudlinux_os_kernel/#proactive-reporting-kernel-crash-events-with-sentry-and-kernel-panic-receiver" class="sidebar-link">Proactive reporting kernel crash events with Sentry and Kernel Panic Receiver</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/cloudlinux_os_kernel/#disabling-the-feature" class="sidebar-link">Disabling the feature</a></div></li></ul></li></ul></li><li><div class="sidebar-header sidebar-link sidebar-header--empty"><div><a href="/for_cloudlinux_partners/" class="sidebar-link">For CloudLinux OS partners</a></div></div><ul class="sidebar-sub-headers"></ul></li><li><div class="sidebar-header sidebar-link"><div><a href="/deprecated/" class="sidebar-link">Deprecated</a></div></div><ul class="sidebar-sub-headers"><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/deprecated/#python-selector-old" class="sidebar-link">Python Selector (Old)</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/deprecated/#installation" class="sidebar-link">Installation</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#end-user-access" class="sidebar-link">End user access</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#hide-python-selector-icon" class="sidebar-link">Hide Python Selector icon</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/deprecated/#git-for-cpanel" class="sidebar-link">Git for cPanel</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/deprecated/#lve-stats-0-x" class="sidebar-link">LVE-Stats 0.x</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/deprecated/#storing-statistics-in-mysql" class="sidebar-link">Storing statistics in MySQL</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#storing-statistics-in-postgresql" class="sidebar-link">Storing statistics in PostgreSQL</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#compacting-in-multi-server-settings" class="sidebar-link">Compacting in multi-server settings</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/deprecated/#optimumcache" class="sidebar-link">OptimumCache</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/deprecated/#installation-2" class="sidebar-link">Installation</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#using-without-ploop" class="sidebar-link">Using without ploop</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#marking-directories" class="sidebar-link">Marking directories</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#optimumcache-configuration-file" class="sidebar-link">OptimumCache configuration file</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#command-line-interface" class="sidebar-link">Command-line interface</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#cloudlinux-collect-collect-system-load-statistics" class="sidebar-link">cloudlinux-collect: collect system load statistics</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#uninstall-optimumcache" class="sidebar-link">Uninstall OptimumCache</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#troubleshooting" class="sidebar-link">Troubleshooting</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div><a href="/deprecated/#tpe-extension" class="sidebar-link">TPE extension</a></div></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/deprecated/#cpu-limits" class="sidebar-link">CPU limits</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/deprecated/#cpu-limits-before-lve-utils-1-4" class="sidebar-link">CPU limits before lve-utils 1.4</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/deprecated/#package-integration" class="sidebar-link">Package integration</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/deprecated/#detecting-and-working-with-cloudlinux-os-shared" class="sidebar-link">Detecting and working with CloudLinux OS Shared</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#displaying-cpu-memory-io-limits" class="sidebar-link">Displaying CPU, memory &amp; IO limits</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/deprecated/#redis-support-for-hostinglimits" class="sidebar-link">Redis support for HostingLimits</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/deprecated/#lveredissocket" class="sidebar-link">LVERedisSocket</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#lveredisaddr" class="sidebar-link">LVERedisAddr</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#lveredistimeout" class="sidebar-link">LVERedisTimeout</a></div></li></ul></li><li class="collapsible sidebar-sub-header"><div class="sidebar-link-container"><a href="/deprecated/#migration-to-ea4" class="sidebar-link">Migration to EA4</a></div><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><div><a href="/deprecated/#advices-and-limitations" class="sidebar-link">Advices and limitations</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#centos-with-easyapache-4" class="sidebar-link">CentOS with EasyApache 4</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#centos-without-easyapache-4" class="sidebar-link">CentOS without EasyApache 4</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#cloudlinux-os-shared-without-easyapache-4" class="sidebar-link">CloudLinux OS Shared without EasyApache 4</a></div></li><li class="sidebar-sub-header"><div><a href="/deprecated/#more-about-cloudlinux-ea3-to-ea4-script" class="sidebar-link">More about cloudlinuxea3to_ea4 script</a></div></li></ul></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="breadcrumb-wrapper page-breadcrumb" data-v-5e0e0acf><span class="breadcrumb-title" data-v-5e0e0acf>Documentation:</span> <a href="/cloudlinux_os_kernel/" class="breadcrumb router-link-exact-active router-link-active" data-v-5e0e0acf>
    CloudLinux OS kernel
  </a></div> <div class="page-nav-wrapper"><div class="page-nav"><a href="/control_panel_integration/" class="nav-arrow left"></a> <a href="/for_cloudlinux_partners/" class="nav-arrow right"></a></div></div> <div class="content content__default"><h1 id="cloudlinux-os-kernel"><a href="#cloudlinux-os-kernel" aria-hidden="true" class="header-anchor">#</a> CloudLinux OS kernel</h1> <p>This documentation describes specific features of the CloudLinux kernel. In other cases the kernel has the same features and innovations as any similar RHEL kernel.
More information about the actual kernel changes and releases can be obtained from our <a href="https://changelog.cloudlinux.com/" target="_blank" rel="noopener noreferrer">changelog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <ul><li><a href="/cloudlinux_os_kernel/#hybrid-kernels">Hybrid Kernels</a></li> <li><a href="/cloudlinux_os_kernel/#securelinks-and-link-traversal-protection">SecureLinks and Link Traversal Protection</a></li> <li><a href="/cloudlinux_os_kernel/#file-change-api">File change API</a></li> <li><a href="/cloudlinux_os_kernel/#tuned-profiles-cloudlinux">Tuned-profiles-cloudlinux</a></li> <li><a href="/cloudlinux_os_kernel/#kernel-config-variables">Kernel config variables</a></li> <li><a href="/cloudlinux_os_kernel/#virtualized-proc-filesystem">Virtualized /proc filesystem</a></li> <li><a href="/cloudlinux_os_kernel/#ptrace-block">Ptrace block</a></li> <li><a href="/cloudlinux_os_kernel/#xen-xvda">Xen XVDA</a></li> <li><a href="/cloudlinux_os_kernel/#umask-behavior">Umask behavior</a></li> <li><a href="/cloudlinux_os_kernel/#io-limits-latency">IO limits latency</a></li> <li><a href="/cloudlinux_os_kernel/#reading-lve-usage">Reading LVE usage</a></li> <li><a href="/cloudlinux_os_kernel/#flashcache">Flashcache</a></li> <li><a href="/cloudlinux_os_kernel/#oom-killer-for-lve-processes">OOM killer for LVE processes</a></li> <li><a href="/cloudlinux_os_kernel/#file-system-quotas">File system quotas</a></li> <li><a href="/cloudlinux_os_kernel/#enter-lve-when-using-cpanel-utilities">Enter LVE when using cPanel utilities</a></li> <li><a href="/cloudlinux_os_kernel/#proactive-reporting-kernel-crash-events-with-sentry-and-kernel-panic-receiver">Proactive reporting kernel crash events with Sentry and Kernel Panic Receiver</a></li></ul> <h2 id="hybrid-kernels"><a href="#hybrid-kernels" aria-hidden="true" class="header-anchor">#</a> Hybrid Kernels</h2> <p>Hybrid kernels give you the ability to take advantage of the benefits and features available in newer kernels without having to completely upgrade to another version of the operating system. Example - for the CloudLinux 7 kernel, based on version 3.10, you can install a hybrid kernel (same as on CloudLinux 8), which is based on version 4.18. This provides more kernel options, memory and overall optimization, as well as a positive impact on system performance.</p> <h4 id="how-to-migrate-from-the-normal-kernel-to-hybrid-one"><a href="#how-to-migrate-from-the-normal-kernel-to-hybrid-one" aria-hidden="true" class="header-anchor">#</a> How to migrate from the normal kernel to hybrid one</h4> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>The system must have an active CloudLinux OS license</p></div><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>If you use <code>yum-plugin-protectbase</code>, please make sure it is disabled before stating the normal-to-hybrid script.</p></div><p>You should perform the following commands:</p> <div class="language- extra-class"><pre class="language-text"><code>yum update
normal-to-hybrid
</code></pre></div><p>Then if the script execution is completed without errors - perform the server reboot.</p> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>You can always migrate from the hybrid kernel to normal one with the following commands:</p> <div class="language- extra-class"><pre class="language-text"><code>yum update
hybrid-to-normal
</code></pre></div></div><h4 id="known-limitations-and-issues-of-hybrid-kernels"><a href="#known-limitations-and-issues-of-hybrid-kernels" aria-hidden="true" class="header-anchor">#</a> Known limitations and issues of hybrid kernels</h4> <p><strong>CloudLinux OS Shared 6 Hybrid kernel</strong></p> <ol><li><p>We do not remove Hybrid kernel after migration from Hybrid to the normal channel, but we remove <span class="notranslate"> linux-firmware </span> package which is needed to boot Hybrid kernel. This is because <span class="notranslate"> CloudLinux OS Shared</span> 6 does not allow to remove the package of currently running kernel. Thus please don't reboot the server back to Hybrid kernel after you remove it.</p></li> <li><p>Kernel module signature isn't checking for now, as 3.10 kernel is using x509 certificates to generate keys and CloudLinux OS Shared 6 cannot detect signatures created in such way.</p></li></ol> <h2 id="securelinks-and-link-traversal-protection"><a href="#securelinks-and-link-traversal-protection" aria-hidden="true" class="header-anchor">#</a> SecureLinks and Link Traversal Protection</h2> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>Link Traversal Protection is disabled by default for the CloudLinux OS Shared.</p></div><p>CloudLinux OS Shared and CloudLinux OS Admin provides comprehensive protection against
symbolic link attacks popular in shared hosting environment.</p> <p>The protection requires setting multiple kernel parameters to be enabled:</p> <p><strong>SecureLinks:</strong></p> <ul><li><a href="/cloudlinux_os_kernel/#fs-enforce-symlinksifowner">fs.enforce_symlinksifowner</a></li> <li><a href="/cloudlinux_os_kernel/#fs-symlinkown-gid">fs.symlinkown_gid</a></li></ul> <p><strong>Link Traversal Protection:</strong></p> <ul><li><a href="/cloudlinux_os_kernel/#fs-protected-symlinks-create">fs.protected_symlinks_create</a></li> <li><a href="/cloudlinux_os_kernel/#fs-process-symlinks-by-task">fs.process_symlinks_by_task</a></li></ul> <p>Please reffer to <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-parameters-at-runtime_managing-monitoring-and-updating-the-kernel#doc-wrapper" target="_blank" rel="noopener noreferrer">this article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in order to know how to setup these parameters.</p> <h4 id="fs-enforce-symlinksifowner"><a href="#fs-enforce-symlinksifowner" aria-hidden="true" class="header-anchor">#</a> <strong>fs.enforce_symlinksifowner</strong></h4> <p>To protect against symlink attack where attacker tricks Apache web server to read some other user PHP config files, or other sensitive file, enable:</p> <div class="language- extra-class"><pre class="language-text"><code>fs.enforce_symlinksifowner=1
</code></pre></div><p>Setting this parameter will deny any process running under gid <em>fs.symlinkown_gid</em> to follow the symlink if owner of the link doesn’t match the owner of the target file.</p> <p>Defaults:</p> <div class="language- extra-class"><pre class="language-text"><code>fs.enforce_symlinksifowner = 1
fs.symlinkown_gid = 48
</code></pre></div><table><thead><tr><th></th> <th></th></tr></thead> <tbody><tr><td><span class="notranslate"><em>fs.enforce_symlinksifowner = 0</em></span></td> <td>do not check <span class="notranslate"> symlink </span> ownership</td></tr> <tr><td><span class="notranslate"><em>fs.enforce_symlinksifowner = 1</em></span></td> <td>deny if <span class="notranslate"> symlink </span> ownership doesn’t match target, and process <span class="notranslate"> gid </span> matches <span class="notranslate"> _symlinkown_gid</span></td></tr></tbody></table> <p>When <span class="notranslate"><em>fs.enforce_symlinksifowner</em></span> set to 1, processes with <span class="notranslate"> GID </span> 48 will not be able to follow <span class="notranslate"> symlinks </span> if they are owned by <span class="notranslate"> user1 </span> , but point to file owned <span class="notranslate"> user2 </span> .</p> <div class="tip custom-block"><p class="custom-block-title">Note</p><p><em>fs.enforce_symlinksifowner = 2</em> is deprecated and can cause issues for the system operation.</p></div><h5 id="fs-symlinkown-gid"><a href="#fs-symlinkown-gid" aria-hidden="true" class="header-anchor">#</a> <strong>fs.symlinkown_gid</strong></h5> <p>On standard Apache installation, this webserver is usually running under GID 48.
On cPanel servers, Apache is running under user nobody, GID 99.</p> <p>To change GID of processes that cannot follow symlink, edit the file <em>/etc/sysctl.conf</em> , add the line:</p> <div class="language- extra-class"><pre class="language-text"><code>fs.symlinkown_gid = XX
</code></pre></div><p>And execute:</p> <div class="language- extra-class"><pre class="language-text"><code>$ sysctl -p
</code></pre></div><p>To disable symlink owner match protection feature, set  <em>fs.enforce_symlinksifowner = 0</em> in <em>/etc/sysctl.conf</em> , and execute:</p> <div class="language- extra-class"><pre class="language-text"><code>$ sysctl -p
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p><em>fs.symlinkown_gid</em> parameter values for httpd service user and <em>fs.proc_super_gid</em> for nagios service user is written to <em>/etc/sysctl.d/90-cloudlinux.conf</em>.</p></div><h4 id="fs-protected-symlinks-create"><a href="#fs-protected-symlinks-create" aria-hidden="true" class="header-anchor">#</a> <strong>fs.protected_symlinks_create</strong> <span class="badge tip" style="vertical-align:top;" data-v-17014d78>cPanel</span></h4> <div class="warning custom-block"><p class="custom-block-title">Warning</p><p>When used outside CageFS (from cPanel tools for instance), <span class="notranslate"><code>fs.protected_symlinks_create</code></span> isn't sufficient for symlink protection.
To fully protect symlink access in this case, use <span class="notranslate"><code>fs.process_symlinks_by_task=1</code></span> in addition to <span class="notranslate"><code>fs.protected_symlinks_create=1</code></span>.</p></div><p><span class="notranslate"><a href="/cloudlinux_os_components/#cagefs">CageFS</a></span> is extremely powerful at stopping most information disclosure attacks, where a hacker could read sensitive files like <span class="notranslate"><em>/etc/passwd</em></span> .</p> <p>Yet, <span class="notranslate"> CageFS </span> does not work in each and every situation. For example, on <span class="notranslate"> cPanel </span> servers, it is not enabled in <span class="notranslate"> WebDAV </span> server, <span class="notranslate"> cPanel </span> file manager and webmail, as well as some FTP servers don’t include proper change rooting.</p> <p>This allows an attacker to create symlink or hardlink to a sensitive file like <span class="notranslate"><em>/etc/passwd</em></span> and then use <span class="notranslate"> WebDAV </span> , filemanager, or webmail to read the content of that file.</p> <p>You can prevent such attacks by preventing user from creating symlinks and hardlinks to files that they don’t own.</p> <p>This is done by set following kernel options to 1:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>fs.protected_symlinks_create = 1
fs.protected_hardlinks_create = 1
</code></pre></div></div> <div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>We do not recommend to use protected_symlinks option for cPanel users as it might break some of the cPanel functionality.
Please read the known issues section before enabling this feature.</p></div><ul><li><a href="/cloudlinux_os_kernel/#known-issues-with-fs-protected-symlinks-create-1-on-cpanel-servers">Known issues with fs.protected_symlinks_create=1 on cPanel servers</a></li></ul> <h4 id="fs-process-symlinks-by-task"><a href="#fs-process-symlinks-by-task" aria-hidden="true" class="header-anchor">#</a> <strong>fs.process_symlinks_by_task</strong> <span class="badge tip" style="vertical-align:top;" data-v-17014d78>cPanel</span></h4> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>This option only available on CloudLinux 7 Hybrid or on CloudLinux 8 Shared and Admin editions.
Also please note that this feature is available for cPanel only.</p></div><p>This parameter is needed to protect against symlink vulnerability where an attacker might get access to files out of the CageFS via cPanel tools: File Manager, WebDAV, Webmail, etc. When a symlink is accessed from cPanel tools (non-root user case) we check whether the current process UID matches the symlink target UID.</p> <p>To enable the protection for CloudLinux OS Shared , set the <span class="notranslate"><code>fs.process_symlinks_by_task</code></span> parameter to 1:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>fs.process_symlinks_by_task=1
</code></pre></div></div> <p>To disable the protection for CloudLinux OS Shared 7 hybrid, set the <span class="notranslate"><code>fs.process_symlinks_by_task</code></span> parameter to 0:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>fs.process_symlinks_by_task=0
</code></pre></div></div> <h4 id="known-issues-with-fs-protected-symlinks-create-1-on-cpanel-servers"><a href="#known-issues-with-fs-protected-symlinks-create-1-on-cpanel-servers" aria-hidden="true" class="header-anchor">#</a> Known issues with fs.protected_symlinks_create=1 on cPanel servers</h4> <p>Here are some examples of what may go wrong on cPanel servers. If <span class="notranslate"><code>fs.protected_symlinks_create=1</code></span> is set on the server, it can cause the following issues:</p> <ul><li><code>rsync</code> is failed</li></ul> <p>If you use the <code>rsync</code> to copy/transfer files and they contain symlinks, you'll see the errors like these:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>&quot;rsync error: some files could not be transferred (code 23)&quot; and the transfer will be failed. 
</code></pre></div></div> <p>It affects <code>rsync</code> tasks as well as cPanel transfer tools.</p> <ul><li>backup extracting may not work. Errors during the restoration:</li></ul> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>Error extracting /home/domain/backups/home.tar.gz : /bin/tar: .cagefs/tmp/mysql.sock: Cannot create symlink to `/var/lib/mysql/mysql.sock'.
Permission denied. /bin/tar: .cagefs/tmp/.s.PGSQL.5432: Cannot create symlink to `/var/run/postgres/.s.PGSQL.5432': No such file or directory.
</code></pre></div></div> <p>Any backup for accounts (including cPanel backup) cannot be extracted.</p> <ul><li><code>dmesg</code> is flooded with the <span class="notranslate"><code>may_create_sym_link</code></span> messages like:</li></ul> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>may_create_sym_link: can't find ea-phpXX in cron
may_create_sym_link: can't find ea-phpXX in ea-php-cli
</code></pre></div></div> <p>It's popping up each second and may increase the size of the <span class="notranslate"><code>/var/log/messages</code></span> file.</p> <h2 id="file-change-api"><a href="#file-change-api" aria-hidden="true" class="header-anchor">#</a> File change API</h2> <h3 id="general"><a href="#general" aria-hidden="true" class="header-anchor">#</a> General</h3> <p><strong>General description</strong></p> <p>One of the main problems on a shared hosting system for file backup operations is to figure out which files have changed. Using <span class="notranslate"> INOTIFY </span> on a 1T drive with a large number of small files and directories guarantees slow startup times, and a lot of context switching between kernel and userspace - generating additional load. On the other hand scanning disk for newly modified files is very <span class="notranslate"> IO </span> intensive, and can kill the performance of the fastest disks.</p> <p><strong>CloudLinux OS Shared approach</strong></p> <p><span class="notranslate"> CloudLinux File Change API </span> is a kernel level technology with the user space interface that buffers lists of modified files in the kernel and then off-loads that list to user space daemon.</p> <p>After that - any software (with enough permissions) can get a list of files that has been modified for the last 24 hours.</p> <p>The software is very simple to use and produces the  list of modified files. As such we expect file backup software, including integrated cPanel backup system to integrate with this <span class="notranslate"> API </span> soon.</p> <h3 id="usage-and-integration"><a href="#usage-and-integration" aria-hidden="true" class="header-anchor">#</a> Usage and integration</h3> <p><strong>Userland utilities</strong></p> <p><span class="notranslate">/usr/bin/cloudlinux-backup-helper </span> is a utility for getting the list of changed files.</p> <p>It is supposed to be run by a super user only.</p> <p>Command line parameters:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>-t | --timestamp retrieve file names for files modified after specified timestamp
-u | --uid       retrieve file names for particular UID only
</code></pre></div></div>
If no UID specified, are retrieved for all users. If no timestamp specified, all database events are shown.
<p><strong>Output format</strong></p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>protocol version (1 right now), timestamp (in seconds) - up to which time data was collected
UID:absolute path to file changed
UID:absolute path to file changed
…
</code></pre></div></div> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>The timestamp in output is needed so you can clearly identify from which timestamp to get list of changed files next.</p></div><p><strong><em>Examples:</em></strong></p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>[root@localhost ~]# cloudlinux-backup-helper -t 1495533489 -u &lt;UID&gt;
1,1495533925
1001:/home/user2/public_html/output.txt
1001:/home/user2/public_html/info.php
[root@localhost ~]# cloudlinux-backup-helper -t 1495533489
1,1495533925
1000:/home/user1/.bashrc
1001:/home/user2/public_html/output.txt
1001:/home/user2/public_html/info.php
1003:/home/user3/logs/data.log
</code></pre></div></div>
**Getting changed files by end user**
<p><span class="notranslate">/usr/bin/cloudlinux-backup-helper-uid</span>  is a SUID wrapper for the  <span class="notranslate"> cloudlinux-backup-helper </span>  utility that enables an end user to get the list of files changed. It accepts timestamp argument only and retrieves data of the user who is running it only.</p> <p><strong><em>Examples:</em></strong></p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>[user@localhost ~]$ cloudlinux-backup-helper-uid               
1,1495530576
1000:/home/user/.bash_history 

[user@localhost ~]$ cloudlinux-backup-helper-uid -t 1495547922
1,1495548343
1000:/home/user/file1.txt
1000:/home/user/file2.txt
</code></pre></div></div>
This command is available within CageFS.
<h3 id="installation-and-configuration"><a href="#installation-and-configuration" aria-hidden="true" class="header-anchor">#</a> Installation and configuration</h3> <p><span class="notranslate"><strong>cloudlinux-fchange-0.1-5</strong></span></p> <p><strong>Requirements</strong></p> <p><span class="notranslate"> CloudLinux OS </span> 6 (requires Hybrid kernel) or 7
Kernel Version: 3.10.0-427.36.1.lve1.4.47</p> <p><strong>Installation and configuration</strong></p> <p>To install <span class="notranslate"> cloudlinux-fchange </span> system run:</p> <p><em>CloudLinux OS Shared 7:</em></p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>yum install cloudlinux-fchange --enablerepo=cloudlinux-updates-testing
</code></pre></div></div> <p><em>CloudLinux OS Shared 6 Hybrid:</em></p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>yum install cloudlinux-fchange --enablerepo=cloudlinux-hybrid-testing
</code></pre></div></div>
Configuration file can be found in <span class="notranslate">/etc/sysconfig/cloudlinux-fchange </span> <p>Database containing list of modified files is located at <span class="notranslate">/var/lve/cloudlinux-fchange.db </span> by default.</p> <p><strong>Starting and stopping</strong></p> <p>After successful installation the event collecting daemon starts automatically, providing all <span class="notranslate"> kernel-exposed </span> data are in place.</p> <p>To start daemon:
<span class="notranslate"><em>CloudLinux OS Shared 7:</em></span></p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>systemctl start cloudlinux-file-change-collector
</code></pre></div></div> <p><em>CloudLinux OS Shared 6 Hybrid:</em></p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>service cloudlinux-file-change-collector start
</code></pre></div></div>
To stop daemon:
<span class="notranslate"></span>
_CloudLinux OS Shared 7:_
<div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>systemctl stop cloudlinux-file-change-collector
</code></pre></div></div> <p><em>CloudLinux OS Shared 6 Hybrid:</em></p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>service cloudlinux-file-change-collector stop
</code></pre></div></div> <p>To uninstall <span class="notranslate"> cloudlinux-fchange </span> run:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>yum remove cloudlinux-fchange
</code></pre></div></div> <h3 id="configuration-details"><a href="#configuration-details" aria-hidden="true" class="header-anchor">#</a> Configuration details</h3> <p>Configuration resides in <span class="notranslate">/etc/sysconfig/cloudlinux-fchange</span>. The following is the default configuration (see comments):
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code># sqlite database file path. If commented out a default value is used
#database_path=/var/lve/cloudlinux-fchange.db

# If uncommented paths starting with 'include' one are processed only
# Pay attention this parameter is a regular string, not a regex
# To include more than one item just specify several lines to include:
# include=/one
# include=/two

# If uncommented exclude paths which contain 'exclude'
# Pay attention this parameter is a regular string, not a regex
# To exclude more than one item just specify several lines to exclude:
# exclude=var
# exclude=tmp

# Daemon polling interval in seconds
polling_interval=5 

# Time to keep entries in days. Does not clean if commented out or zero
time_to_keep=1

# User read-only mode minimal UID
# If file change collector stopped, all users with UID &gt;= user_ro_mode_min_uid
# are restricted to write to their home directory. This prevents to miss
# a file change event.
# Value of -1 (default) allows to disable the feature
user_ro_mode_min_uid=-1

# Minimal UID of events to be processed.
# Events of users with UID less then specified are not handled.
# By default 500 (non-system users for redhat-based systems)
#minimal_event_uid=500
 
# SQLite shared lock prevents setting more restrictive locks. That is a
# process cannot write to a database table when a concurrent process reads
# from the table. As saving data to database is considered far more important
# than getting them (data could be reread a second later after all), database
# writer could try to terminate concurrent reading processes. Just set
# terminate rivals to 'yes' to turn this ability on.
# terminate_rivals=no 

# Events to be handled. Currently the following types of events are processed:
# 1. file creation
# 2. file deletion
# 3. directory creation
# 4. directory deletion
# 5. file content/metadata modification
# 6. file/directory attributes/ownership modification
# 7. hardlink creation
# 8. symlink creation
# 9. file/directory moving/renaming
# By default all events are processed. Keep in mind that events for a filepath
# are cached, i.e if a file was deleted and then a file with the same absolute
# name is created, only the deletion event is triggerred. Changing file
# modification timestamp with command 'touch' will trigger modification event
# as if a file content is modified.
# Currently supported options are:
# file_created, file_modified, file_deleted, dir_created, dir_deleted,
# owner_changed, attrib_changed, moved, hardlink_created, symlink_created, all
# Options that don't have 'file' or 'dir' prefix, applied to both files and
# directories. To set more than one options, separate them with commas,
# e.g. event_types=file_created,file_deleted,file_modified. Unknown options are
# ignored.
#
# event_types=all
</code></pre></div></div> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>Please keep in mind, that current implementation implies that one process is writing to a database and another is reading from it. As reading sets shared lock to a database table, the writing process cannot write to the table until the lock is released. That’s why passing a timestamp to cloudlinux-backup-helpermatters: this way the number of records to be returned is substantially decreased, lowering the processing time and filtering out old records. Likewise, pay attention to narrowing the scope of events being recorded. Chances are that changing attributes, ownership, directory creation/deletion, symlink events are not relevant and there’s no need to keep them.</p></div><h3 id="low-level-access"><a href="#low-level-access" aria-hidden="true" class="header-anchor">#</a> Low-level access</h3> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>Using this options is dangerous, and might cause problems with <span class="notranslate">CloudLinux File Change API.</span></p></div><p>The kernel exposes the functionality to /proc/sys/fs/datacycle/ folder.</p> <ol><li><p><span class="notranslate"><strong>enable</strong></span> - enable/disable the functionality. Write 1 to this file to enable, 0 to disable. If disabled, no events are coming to events file.</p></li> <li><p><span class="notranslate"><strong>events</strong></span> - the modified files log itself. Events in the format <span class="notranslate"> &lt;EVENT_ID&gt;:&lt;EVENT_TYPE_ID&gt;:&lt;USER_ID&gt;:&lt;FILE_PATH&gt; </span> are constantly appending to the end of the file if datacycle enabled. File events are never duplicated: if we have file modification event, we would not get file deletion event if the file has been later deleted. This events buffer has limited capacity, therefore from time to time, the events log requires flushing.</p></li> <li><p><span class="notranslate"><strong>flush</strong></span> - a file for clearing events log. For flushing, the last <span class="notranslate"> event_id </span> from the events file is written to this file. Right after this, events log is truncated to that <span class="notranslate"> event_id </span> .</p></li> <li><p><span class="notranslate"><strong>user_ro_mode</strong></span> - forbidding users with UIDs equal or bigger that set in this file writing to their home directories. At the boot, the file has -1. When it’s written positive value, say 500, the system starts effectively preventing users from modifying their home dirs (on write attempt a user gets <span class="notranslate"> ‘read-only filesystem’ </span> error). This feature is designed to prevent users from updating their home dirs when events are not handled.</p></li> <li><p><span class="notranslate"><strong>entries_in_buffer</strong></span> - just counter of log entries of events file.</p></li> <li><p><span class="notranslate"><strong>min_event_uid</strong></span> - this file has minimal UID of events to be handled. Events from users with smaller UID are not handled. By default 500 (non-system users in redhat-based systems).</p></li></ol> <h2 id="tuned-profiles-cloudlinux"><a href="#tuned-profiles-cloudlinux" aria-hidden="true" class="header-anchor">#</a> Tuned-profiles-cloudlinux</h2> <p>The <span class="notranslate"><strong><em>tuned-profiles-cloudlinux</em></strong></span> package brings a range of kernel under-the-hood tunings to address high LA, iowait issues what were detected earlier on particular users deploys. The package also encloses OOM adjustments to prioritize the elimination of overrun PHP, <span class="notranslate"> lsphp, Phusion Passenger </span> workers processes over other processes (e.g. ssh, a cron job).</p> <p>There are three profiles provided by CloudLinux OS Shared:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code># tuned-adm list | grep cloudlinux
- cloudlinux-default          - Default CloudLinux tuned profile
- cloudlinux-dummy            - Empty CloudLinux tuned profile
- cloudlinux-vz               - Empty CloudLinux tuned profile
</code></pre></div></div> <p><span class="notranslate"> cloudlinux-dummy</span> and  <span class="notranslate"> cloudlinux-vz</span> are used for internal needs or when  <span class="notranslate"> Virtuozzo/OpenVZ </span>  detected and actually do nothing.</p> <p><span class="notranslate"> cloudlinux-default </span> is one to be used, it actually does the following:</p> <ol><li>Switches CPU power consumption mode to the maximum. CPU operates at maximum performance at the maximum clock rate:</li></ol> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>governor=performance
energy_perf_bias=performance
</code></pre></div></div> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>If standard software CPU governors are used.</p></div><ol start="2"><li>Applies the following kernel options:<br> <span class="notranslate">
vm.force_scan_thresh=100 </span> - Improves kernel memory clean-up in case of big number of running LVE.</li></ol> <p>UBC parameters set the limits for the containers:</p> <p><span class="notranslate">  ubc.dirty_ratio=100 </span> - Defines maximum RAM percentage for dirty memory pages.
<span class="notranslate"> dirty_background_ratio=75</span> - Defines RAM percentage when to allow writing dirty pages on the disk.</p> <ol start="3"><li><em>[CloudLinux OS Shared 7 only]</em> Detects used disk types and changes elevator to <span class="notranslate"> 'deadline' </span> for HDD and to <span class="notranslate"> 'noop' </span> for SSD in <span class="notranslate"> /sys/block/[blockname]/queue/scheduler </span> .</li></ol> <div class="tip custom-block"><p class="custom-block-title">Note</p><p><span class="notranslate">The script uses /sys/block/[blockname]/queue/rotational flag, some RAID controllers can not set it properly. For example, SSD used for RAID but rotational is set to 1 by RAID driver. As a workaround add the following to /etc/rc.d/rc.local to make it applied on boot:</span></p></div><div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>echo &quot;noop&quot; &gt; /sys/block/[blockname]/queue/scheduler  
echo &quot;0&quot; &gt; /sys/block/[blockname]/queue/rotational
</code></pre></div></div> <p>Where <span class="notranslate"><em>[blockname]</em></span> is used device name, like <span class="notranslate"><em>sda/sdb</em></span> .</p> <p>And make it executable:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>chmod +x /etc/rc.d/rc.local
</code></pre></div></div> <ol start="4"><li><p><em>[CloudLinux OS Shared 7 only]</em> The profile sets <span class="notranslate"> I/O </span> scheduler. For the normal discs the <span class="notranslate"> Deadline Scheduler </span> is set to improve <span class="notranslate"> IO </span> performance and decrease <span class="notranslate"> IO </span> latency, for SSD - noop.
When configuring scheduler <span class="notranslate"> I/O </span> queue is changed and set to the value 1024 which improves overall <span class="notranslate"> I/O </span> subsystem performance by caching <span class="notranslate"> IO </span> requests in memory.</p></li> <li><p>Disables transparent <span class="notranslate"> HugePage </span> .</p></li> <li><p>Provides adjustment group file for OOM-Killer to kill overrun php, lsphp and <span class="notranslate"> Phusion Passenger </span> workers first.</p></li></ol> <p>To install:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>yum install tuned-profiles-cloudlinux
</code></pre></div></div> <p>To start using a profile:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>tuned-adm profile cloudlinux-default
</code></pre></div></div> <p>To stop using a profile:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>tuned-adm off
</code></pre></div></div> <h2 id="kernel-config-variables"><a href="#kernel-config-variables" aria-hidden="true" class="header-anchor">#</a> Kernel config variables</h2> <p>Starting from <strong>lvemanager 4.0-25.5</strong>, <strong>lve-utils 3.0-21.2</strong>, and <strong>cagefs-6.1-26</strong>, CloudLinux OS Shared utilities can read/write kernel config variables from a custom config /etc/sysctl.d/90-cloudlinux.conf (earlier, the parameters were read/written only from sysctl.conf ).</p> <p>CloudLinux OS Shared utilities get parameter by using <code>sysctl</code> system utility. So for now, even if a config variable is not set in the <code>sysctl.conf</code> and in the <code>/etc/sysctl.d</code> config files, this variable will be read by <code>sysctl</code> utility directly from <code>/proc/sys</code>.</p> <p>If you changed some kernel variables in <code>/etc/sysctl.d/90-cloudlinux.conf</code> you need to apply these changes to the kernel parameter by running the command:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>sysctl --system
</code></pre></div></div> <p>After that, the variable can be read by the sysctl utility.</p> <p>Starting from <strong>cagefs-6.1-27</strong>,  fs.proc_can_see_other_uid will be migrated (one time) from /etc/sysctl.conf into /etc/sysctl.d/90-cloudlinux.conf . If this variable is not set in either file, it will default to 0.
It is strongly advised against setting this variable in 90-cloudlinux.conf . Define it in /etc/sysctl.conf or in some other config file with an index number greater than 90-cloudlinux.conf , e.g. <code>/etc/sysctl.d/95-custom.conf</code>.</p> <p>Starting from <strong>lve-utils-3.0-23.7</strong>  fs.proc_super_gid and fs.symlinkown_gid will be migrated (one time) from /etc/sysctl.conf into /etc/sysctl.d/90-cloudlinux.conf .</p> <p>For <strong>lve-utils</strong> versions from 3.0-21.2 to 3.0-23.7 the migration was performed the same way, but during every package install/update.
Variables setting guidelines are the same as for CageFS (see above).</p> <p>As requested by some our customers, we've implemented a new kernel setting to hide <code>/proc/net/{tcp,udp,unix}</code> files for additional security/isolation.
You can hide them by runnign <code>sysctl -w kernel.proc_disable_net=1</code> command, and by default, it's <code>0</code> (nothing hidden).
Currently this is implemented for CloudLinux OS Shared 7 only.</p> <h2 id="virtualized-proc-filesystem"><a href="#virtualized-proc-filesystem" aria-hidden="true" class="header-anchor">#</a> Virtualized /proc filesystem</h2> <p>You can prevent user from seeing processes of other users (via ps/top command) as well as special files in /proc file system by setting fs.proc_can_see_other_uid sysctl.</p> <p>To do that, edit /etc/sysctl.conf
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>fs.proc_can_see_other_uid=0
fs.proc_super_gid=600
</code></pre></div></div>
And do:
<div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># sysctl -p
</code></pre></div></div>
fs.proc_can_see_other_uid=0
<p>If fs.proc_can_see_other_uid is set to 0, users will not be able to see special files. If it is set to 1 - user will see other processes IDs in /proc filesystem.</p> <p>fs.proc_super_gid=XX</p> <p>The fs.proc_super_gid sets group ID which will see system files in /proc, add any users to that group so they will see all files in /proc. Usually needed by some monitoring users like nagios or zabbix and <a href="/command-line_tools/#cldetect">cldetect utility</a> can configure few most commonly used monitoring software automatically.</p> <h4 id="automatic-configuration-of-a-group-in-the-fs-proc-super-gid"><a href="#automatic-configuration-of-a-group-in-the-fs-proc-super-gid" aria-hidden="true" class="header-anchor">#</a> Automatic configuration of a group in the fs.proc_super_gid</h4> <p>Starting from <strong>lve-utils v.4.2.0-1</strong>, when installing (not updating) the <code>lve-utils</code> package it automatically creates the <code>clsupergid</code> group and registers this group in the <code>fs.proc_super_gid</code> (if this group was not created before).
If a group was created in the <code>fs.proc_super_gid</code> earlier all stays the same.</p> <p>Virtualized /proc filesystem in CloudLinux OS Shared 8/CloudLinux OS Shared 7 hybrid will display all files to unprivileged users. But unprivileged users will have access only to the following files (as well as directories for PIDs for the user):
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>/proc/cpuinfo
/proc/version
/proc/stat
/proc/uptime
/proc/loadavg
/proc/filesystems
/proc/stat
/proc/cmdline
/proc/meminfo
/proc/mounts
/proc/net/tcp
/proc/net/tcp6
/proc/net/udp
/proc/net/udp6
/proc/net/assocs
/proc/net/raw
/proc/net/raw6
/proc/net/unix
/proc/net/dev
</code></pre></div></div> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>Starting from lve-utils 3.0-21.2, fs.proc_super_gid parameter in da_add_admin utility is written to /etc/sysctl.d/90-cloudlinux.conf.</p></div><h3 id="remounting-procfs-with-hidepid-option"><a href="#remounting-procfs-with-hidepid-option" aria-hidden="true" class="header-anchor">#</a> Remounting procfs with &quot;hidepid&quot; option</h3> <p>In <strong>lve-utils-2.1-3.2</strong> and later <code>/proc</code> can be remounted with <code>hidepid=2</code> option to enable additional protection for procfs. This remount is performed in lve_namespaces service.
This option is in sync with <code>fs.proc_can_see_other_uid</code> kernel parameter described above.
When <code>/etc/sysctl.conf</code> does not contain <code>fs.proc_can_see_other_uid</code> setting, the protection is off (procfs is remounted with <code>hidepid=0</code> option). In this case <code>fs.proc_super_gid</code> setting is ignored. Users are able to see full <code>/proc</code> including processes of other users on a server. This is a default behavior.</p> <p>If <code>/etc/sysctl.conf</code> contains <code>fs.proc_can_see_other_uid=1</code> setting, then <code>/proc</code> will be remounted with <code>hidepid=0</code> option (disable <code>hidepid</code> protection for all users).
If <code>/etc/sysctl.conf</code> contains <code>fs.proc_can_see_other_uid=0</code> setting, then <code>/proc</code> will be remounted with <code>hidepid=2</code> option (enable <code>hidepid</code> protection for all users).
If <code>/etc/sysctl.conf</code> contains <code>fs.proc_can_see_other_uid=0</code> and <code>fs.proc_super_gid=$GID</code> settings, then <code>/proc</code> will be remounted with <code>hidepid=2, gid=$GID</code> options (enable <code>hidepid</code> for all users except users in group with gid $GID).</p> <p>To apply <code>/etc/sysctl.conf</code> changes, you should execute
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>service lve_namespaces restart
</code></pre></div></div>
 Or
<div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>/usr/share/cloudlinux/remount_proc.py
</code></pre></div></div> <p>So, admin can prevent users from seeing processes of other users via <code>fs.proc_can_see_other_uid</code> and <code>fs.proc_super_gid</code> settings in <code>/etc/sysctl.conf</code>, like earlier.</p> <p>Also, you can override this by specifying desired options for <code>/proc</code> in <code>/etc/fstab</code>.</p> <p>To disable hidepid, add to <code>/etc/fstab</code> the following:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>proc /proc proc defaults,hidepid=0,gid=0 0 0
</code></pre></div></div>
Or you can specify desired hidepid and gid values explicitly:
<div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>proc /proc proc defaults,hidepid=2,gid=clsupergid 0 0
</code></pre></div></div>
 You should execute
<div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>mount -o remount /proc
</code></pre></div></div> <p>to apply <code>/etc/fstab</code> changes.<br>
Nevertheless, we recommend to manage procfs mount options via <code>/etc/sysctl.conf</code> as described above for backward compatibility.</p> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>There is a known issue on CloudLinux OS Shared 6 systems. User cannot see full /proc inside CageFS even when this user is in “super” group, that should see full /proc. This issue does not affect users with CageFS disabled. CloudLinux OS Shared 7 is not affected.</p></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Starting from lve-utils 3.0-21.2, lve_namespaces service can read parameters from the /etc/sysctl.d/90-cloudlinux.conf.</p></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Even if fs.proc_can_see_other_uid and fs.proc_super_gid parameters are not set in config files but specified in /proc/sys, then when restarting lve_namespaces service the parameters from /proc/sys will be used. So, /proc will be remounted according to these parameters.</p></div><h3 id="remounting-procfs-on-cloudlinux-os-shared-8"><a href="#remounting-procfs-on-cloudlinux-os-shared-8" aria-hidden="true" class="header-anchor">#</a> Remounting procfs on CloudLinux OS Shared 8</h3> <p>On CloudLinux OS Shared 8, starting from the kernel version <code>4.18.0-193.28.1.lve1.el8.x86_64</code> remounting is controlled by the kernel.</p> <p>As before, admins are able to change the settings <code>fs.proc_can_see_other_uid</code> and <code>fs.proc_super_gid</code> in the <code>/etc/sysctl.d/90-cloudlinux.conf</code> or <code>/etc/sysctl.conf</code>.</p> <p>To apply changes, execute the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>sysctl --system
</code></pre></div><p>It is no longer needed to manually run the <code>/usr/share/cloudlinux/remount_proc.py</code> to remount <code>/proc</code>.</p> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>On Cloudlinux OS Shared 8, changing the <code>/etc/fstab</code> file for setting <code>/proc</code> remounting with the <code>hidepid=</code> option <strong>will not cause any effect</strong> as remounting is totally controlled by the kernel and depends on the <code>fs.proc_can_see_other_uid</code> option.</p></div><h2 id="ptrace-block"><a href="#ptrace-block" aria-hidden="true" class="header-anchor">#</a> Ptrace block</h2> <p>Starting with kernel 3.10.0-427.18.s2.lve1.4.21 ( <span class="notranslate"> CloudLinux  OS Shared</span> 7) and 2.6.32-673.26.1.lve1.4.17 ( <span class="notranslate"> CloudLinux OS Shared</span> 6) we re-implemented <span class="notranslate"> ptrace block </span> to protect against <span class="notranslate"> ptrace </span> family of vulnerabilities. It prevents end user from using any <span class="notranslate"> ptrace </span> related functionality, including such commands as <span class="notranslate"> strace, lsof </span> or <span class="notranslate"> gdb </span> .</p> <p>By default, <span class="notranslate"> CloudLinux OS Shared</span> doesn't prevent <span class="notranslate"> ptrace </span> functionality.</p> <p>Defaults:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>kernel.user_ptrace = 1
kernel.user_ptrace_self = 1
</code></pre></div></div> <p>The option <span class="notranslate"> kernel.user_ptrace </span> disables <span class="notranslate"> PTRACE_ATTACH </span> functionality, option <span class="notranslate"> kernel.user_ptrace_self </span> disables <span class="notranslate"> PTRACE_TRACEME </span> .</p> <p>To disable all <span class="notranslate"> ptrace </span> functionality change both <span class="notranslate"> sysctl </span> options to 0, add this section to <span class="notranslate"> /etc/sysctl.conf </span> :
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>## CL. Disable ptrace for users
kernel.user_ptrace = 0
kernel.user_ptrace_self = 0
##
</code></pre></div></div> <p>Apply changes with:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>$ sysctl -p
</code></pre></div></div> <p>Different software could need different access to <span class="notranslate"> ptrace </span> , you may need to change only one option to 0 to make them working. In this case, there will be only partial <span class="notranslate"> ptrace </span> protection.</p> <div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>ptrace protection is known to break PSA service for Plesk 11</p></div><h2 id="xen-xvda"><a href="#xen-xvda" aria-hidden="true" class="header-anchor">#</a> Xen XVDA</h2> <p>2.6.32 kernels have different mode of naming <span class="notranslate"> Xen XVDA </span> drives.</p> <p>By adding <span class="notranslate"> xen_blkfront.sda_is_xvda=0 </span> to kernel boot line in <span class="notranslate"> grub.conf </span> you will make sure no naming translation is done, and the drives will be identified as <span class="notranslate"> xvde </span> .</p> <p>By default, this option is set to 1 in the kernel, and drives are detected as <span class="notranslate"> xvda </span> .
This is needed only for CloudLinux OS Shared 6 and <span class="notranslate"> Hybrid </span> kernels.</p> <h2 id="umask-behavior"><a href="#umask-behavior" aria-hidden="true" class="header-anchor">#</a> Umask behavior</h2> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>CloudLinux OS Shared 6, CloudLinux OS Shared 6 hybrid, CloudLinux OS Shared 7, CloudLinux OS Shared 7 hybrid kernels.</p></div><p>Starting from the kernel module <strong>lve-kmod-2.0-10</strong>, the behavior of umask is changed.</p> <p>Now, when entering LVE task's original umask value is preserved, instead of using LVE's umask value.
This behavior is typical for all kernels: CloudLinux OS Shared 6, CloudLinux OS Shared 6 hybrid, CloudLinux OS Shared 7, CloudLinux OS Shared 7 hybrid kernels.</p> <h2 id="io-limits-latency"><a href="#io-limits-latency" aria-hidden="true" class="header-anchor">#</a> IO limits latency</h2> <p><strong>[lve1.2.29+]</strong></p> <p>When customer reaches <span class="notranslate"> IO Limit, the processes that are waiting for  <span class="notranslate"> IO will be placed to sleep to make sure they don't go over the limit. That could make some processes sleep for a very long time. </span></span>
By defining <span class="notranslate"> IO latency, you can make sure that no process sleeps due to  <span class="notranslate"> IO limit for more then X milliseconds. By doing so, you will also let customers to burst through the limits, and use up more than they were limited too in some instances. </span></span></p> <p>This option is <span class="notranslate"> OFF by default. </span></p> <p><em>For CloudLinux OS Shared 6 , CloudLinux OS Shared 7, CloudLinux OS Shared 8 (kmodlve 2.1-2 and later):</em></p> <p>To enable <span class="notranslate"> IO </span> Limits latency and set it to 10 seconds:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code># echo 10000 &gt; /sys/module/kmodlve/parameters/latency
</code></pre></div></div>
To disable latency:
<div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># echo 2000000000 &gt; /sys/module/kmodlve/parameters/latency
</code></pre></div></div> <p>It is possible to set, for example, 1000 as a permanent value. To do so, create a file <span class="notranslate">/etc/modprobe.d/kmodlve.conf </span> with the following content:<br> <span class="notranslate"><code>options kmodlve latency=1000</code></span></p> <p><em>For <span class="notranslate"> CloudLinux OS Shared</span> 5 (OBSOLETE):</em></p> <p>To enable <span class="notranslate"> IO </span> Limits latency and set it to 10 seconds:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code># echo 10000 &gt; /sys/module/iolimits/**parameters/latency
</code></pre></div></div>
To disable latency:
<div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># echo 2000000000 &gt; /sys/module/iolimits/**parameters/latency
</code></pre></div></div> <h2 id="reading-lve-usage"><a href="#reading-lve-usage" aria-hidden="true" class="header-anchor">#</a> Reading LVE usage</h2> <p>CloudLinux OS Shared kernel provides real time usage data in file.</p> <p>All the statistics can be read from that file in real time. Depending on your kernel version you will get either Version 6 of the file, or version 4 of the file.
You can detect the version by reading the first line of the file. It should look like:</p> <p>6:LVE... for version 6<br>
4:LVE... for version 4</p> <p>First line presents headers for the data.
Second line shows default limits for the server, with all other values being 0.
The rest of the lines present limits &amp; usage data on per <span class="notranslate"> LVE </span> bases.</p> <p>Version 6 (CL6 &amp; hybrid kernels):
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>6:LVE        EP        lCPU        lIO        CPU        MEM        IO        lMEM        lEP        nCPU        fMEM        fEP        lMEMPHY        lCPUW        lNPROC        MEMPHY        fMEMPHY        NPROC        fNPROC
0        0        25        1024        0        0        0        262144        20        1        0        0        262144        100        0        0        0        00
300        0        25        1024        1862407        0        0        262144        20        1        0        0        262144        100        0        31        000
</code></pre></div></div> <table><thead><tr><th></th> <th></th> <th></th> <th></th></tr></thead> <tbody><tr><td><strong>Label</strong></td> <td><strong>Description</strong></td> <td><strong>Value</strong></td> <td><strong>Supported versions</strong></td></tr> <tr><td><span class="notranslate"> LVE </span></td> <td><span class="notranslate"> LVE ID </span></td> <td>number</td> <td></td></tr> <tr><td><span class="notranslate"> EP </span></td> <td>Number of <span class="notranslate"> entry processes </span></td> <td>number</td> <td></td></tr> <tr><td><span class="notranslate"> lCPU </span></td> <td><span class="notranslate"> CPU </span> Limit</td> <td>% relative to total <span class="notranslate"> CPU power </span></td> <td></td></tr> <tr><td><span class="notranslate"> lIO </span></td> <td><span class="notranslate"> IO </span> limits for CL6</td> <td>KB/s for v6, from 1 to 100 for v4</td> <td></td></tr> <tr><td><span class="notranslate"> CPU </span></td> <td><span class="notranslate"> CPU </span> usage since reboot</td> <td>in nanoseconds for v6, hertz for v4</td> <td></td></tr> <tr><td><span class="notranslate"> MEM </span></td> <td>Virtual memory usage</td> <td>number of 4k pages</td> <td></td></tr> <tr><td><span class="notranslate"> IO </span></td> <td><span class="notranslate"> IO </span> usage</td> <td>KB/s for v6, 0 for v4</td> <td></td></tr> <tr><td><span class="notranslate"> lMEM </span></td> <td>Virtual memory limit</td> <td>number of 4k pages</td> <td></td></tr> <tr><td><span class="notranslate"> lEP </span></td> <td><span class="notranslate"> Entry Processes </span> limit</td> <td>number</td> <td></td></tr> <tr><td><span class="notranslate"> nCPU </span></td> <td>Number of cores limit</td> <td>number of cores</td> <td></td></tr> <tr><td><span class="notranslate"> fMEM </span></td> <td><span class="notranslate"> Virtual memory </span> faults</td> <td>number of faults</td> <td></td></tr> <tr><td><span class="notranslate"> fEP </span></td> <td><span class="notranslate"> Entry Processes </span> faults</td> <td>number of faults</td> <td>v6+</td></tr> <tr><td><span class="notranslate"> lMEMPHY </span></td> <td>Physical memory limit</td> <td>number</td> <td>v6+</td></tr> <tr><td><span class="notranslate"> lCPUW </span></td> <td><span class="notranslate"> CPU </span> weight (not used)</td> <td>from 1 to 100</td> <td>v6+</td></tr> <tr><td><span class="notranslate"> lNPROC </span></td> <td><span class="notranslate"> Number of processes </span> limit</td> <td>number</td> <td>v6+</td></tr> <tr><td><span class="notranslate"> MEMPHY </span></td> <td>Physical memory usage</td> <td>number of 4k pages</td> <td>v6+</td></tr> <tr><td><span class="notranslate"> fMEMPHY </span></td> <td>Physical memory faults</td> <td>number of faults</td> <td>v6+</td></tr> <tr><td><span class="notranslate"> NPROC </span></td> <td><span class="notranslate"> Number of processes </span></td> <td>number</td> <td>v6+</td></tr> <tr><td><span class="notranslate"> fNPROC </span></td> <td><span class="notranslate"> Number of processes </span> faults</td> <td>number of faults</td> <td>v6+</td></tr> <tr><td><span class="notranslate"> IOPS </span></td> <td><span class="notranslate"> IO </span> operations since reboot</td> <td>number</td> <td>v8+</td></tr></tbody></table> <h2 id="flashcache"><a href="#flashcache" aria-hidden="true" class="header-anchor">#</a> Flashcache</h2> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>Available only for x86_64, <span class="notranslate">CloudLinux</span> OS Shared 6 and Hybrid servers</p></div><p><span class="notranslate"> Flashcache </span> is a module originally written and released by <span class="notranslate">  Facebook (Mohan Srinivasan, Paul Saab </span> and <span class="notranslate"> Vadim Tkachenko </span> ) in April of 2010. It is a kernel module that allows Writethrough caching of a drive on another drive. This is most often used for caching a rotational drive on a smaller solid-state drive for performance reasons. This gives you the speed of an <span class="notranslate"> SSD </span> and the size of a standard rotational drive for recently cached files. <span class="notranslate"> Facebook </span> originally wrote the module to speed up database <span class="notranslate"> I/O </span> , but it is easily extended to any <span class="notranslate"> I/O </span> .</p> <p>To install on <span class="notranslate"> CloudLinux OS Shared</span> 6 &amp; Hybrid servers:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>$ yum install flashcache
</code></pre></div></div> <p>More info on <span class="notranslate"> flashcache </span> : <a href="https://github.com/facebook/flashcache/" target="_blank" rel="noopener noreferrer">https://github.com/facebook/flashcache/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><span class="notranslate"> ArchLinux </span> has a good page explaining how to use <span class="notranslate"> flashcache </span> :
<a href="https://wiki.archlinux.org/index.php/Flashcache" target="_blank" rel="noopener noreferrer">https://wiki.archlinux.org/index.php/Flashcache<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="oom-killer-for-lve-processes"><a href="#oom-killer-for-lve-processes" aria-hidden="true" class="header-anchor">#</a> OOM killer for LVE processes</h2> <p>When <span class="notranslate">LVE</span> reaches its memory limit, the processes inside that <span class="notranslate"> LVE </span> are killed by <span class="notranslate"> OOM Killer </span> and appropriate message is written to <span class="notranslate"> /var/log/messages </span> . When any <span class="notranslate"> LVE </span> hits huge number of memory limits in short period of time, then <span class="notranslate"> OOM Killer </span> could cause system overload. Starting from kernel 2.6.32-673.26.1.lve1.4.15 ( <span class="notranslate"> CloudLinux OS Shared</span> 6) and from kernel 3.10.0-427.18.2.lve1.4.14 ( <span class="notranslate"> CloudLinux OS Shared</span> 7) heavy <span class="notranslate"> OOM Killer </span> could be disabled. If so - lightweight <span class="notranslate"> SIGKILL </span> will be used instead.</p> <div class="tip custom-block"><p class="custom-block-title">Note</p><p>It is recommended to disable OOM killer for LVE processes and use SIGKILL instead</p></div><p>By default <span class="notranslate"> OOM Killer </span> is enabled, to disable it please run:</p> <p><em>For <span class="notranslate"> CloudLinux OS Shared</span> 6</em> :
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code># echo 1 &gt; /proc/sys/ubc/ubc_oom_disable
</code></pre></div></div> <p>Also, add the following to <span class="notranslate"><em>/etc/sysctl.conf</em></span> file to apply the same during boot:
</p><div class="notranslate"><p></p> <div class="language- extra-class"><pre class="language-text"><code>ubc.ubc_oom_disable=1
</code></pre></div></div> <p><em>For <span class="notranslate"> CloudLinux OS Shared</span> 7:</em></p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># echo 1 &gt; /proc/sys/kernel/memcg_oom_disable
</code></pre></div></div> <p>Also, add the following to <span class="notranslate"><code>/etc/sysctl.conf</code></span> file to apply the same during boot:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code>kernel.memcg_oom_disable=1
</code></pre></div></div> <h2 id="file-system-quotas"><a href="#file-system-quotas" aria-hidden="true" class="header-anchor">#</a> File system quotas</h2> <p>In <span class="notranslate"><strong>Ext4</strong></span> file system, the process with enabled capability <span class="notranslate"> CAP_SYS_RESOURCE </span> is not checked on the quota exceeding by default. It allows userland utilities <span class="notranslate"><em>selectorctl</em></span> and <span class="notranslate"><em>cagefs</em></span> to operate without fails even if a user exceeds a quota.</p> <p>To disable quota checking in <span class="notranslate"><strong>XFS</strong></span> file system set <span class="notranslate"><code>cap_res_quota_disable</code></span> option to 1 using the following command:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># echo 1 &gt; /proc/sys/fs/xfs/cap_res_quota_disable
</code></pre></div></div> <h2 id="enter-lve-when-using-cpanel-utilities"><a href="#enter-lve-when-using-cpanel-utilities" aria-hidden="true" class="header-anchor">#</a> Enter LVE when using cPanel utilities <span class="badge tip" style="vertical-align:top;" data-v-17014d78>cPanel</span> <span class="badge tip" style="vertical-align:top;" data-v-17014d78>CloudLinux OS Shared 7 hybrid</span> <span class="badge warn" style="vertical-align:top;" data-v-17014d78>experimental</span></h2> <p>cPanel tools might use more resources than desired, so to limit resource usage, you might want to enter the corresponding LVE when using cPanel tools on-behalf of a non-root user.</p> <p>This feature is considered experimental, as in this case there might be contention for LVE limits between cPanel tools and web-requests for a given user, which might not be suitable.</p> <p>The <span class="notranslate"><code>lve_setuid_enter</code></span> parameter controls whether you want to enter the corresponding LVE when using cPanel tools on behalf of a non-root user.</p> <p>By default, the feature is disabled (0), to enable it, run the following for CloudLinux OS Shared 7 hybrid:</p> <div class="notranslate"><div class="language- extra-class"><pre class="language-text"><code># echo 1 &gt; /sys/module/kmodlve/parameters/lve_setuid_enter
</code></pre></div></div> <h2 id="proactive-reporting-kernel-crash-events-with-sentry-and-kernel-panic-receiver"><a href="#proactive-reporting-kernel-crash-events-with-sentry-and-kernel-panic-receiver" aria-hidden="true" class="header-anchor">#</a> Proactive reporting kernel crash events with Sentry and Kernel Panic Receiver</h2> <p>As updating the kernel is one of the most sensitive tasks, we'd like to achieve the maximum stability along the way.
In case something goes wrong, proactive reacting to kernel crashes can help tremendously.</p> <p>Our new tool, <em>Kernel Panic Receiver</em>, released in <a href="https://blog.cloudlinux.com/kernel-panic-receiver-a-new-tool-to-organize-kernel-panic-logs" target="_blank" rel="noopener noreferrer">June 2020<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> allows you to to organize kernel panic logs.
Kernel Panic Receiver is an open-source component designed to pre-emptively resolve any kernel-related issues.</p> <p>Visit the <a href="https://github.com/cloudlinux/kernel_panic_receiver" target="_blank" rel="noopener noreferrer">Kernel Panic Receiver project GitHub page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h4 id="usage"><a href="#usage" aria-hidden="true" class="header-anchor">#</a> Usage</h4> <p>To send required kernel logs from the clients' machines to <em>Kernel Panic Receiver</em>, we configure the default Linux kernel feature called <em>netconsole</em>.</p> <p>The configuration is done by the <code>initscripts</code> package, starting from the following versions:</p> <ul><li>For CloudLinux OS Shared 6: <code>9.03.61-1.cloudlinux</code></li> <li>For CloudLinux OS Shared 7: <code>9.49.49-1.cloudlinux</code></li> <li>For CloudLinux OS Shared 8: <code>10.00.4-1.cloudlinux</code></li></ul> <p>To update the <code>initscripts</code> package, run the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>yum update initscripts --enablerepo=cloudlinux-updates-testing
</code></pre></div><p>When a kernel panic occurs, the <em>netconsole</em> module sends logs to our server as plain text via the UDP protocol.</p> <h4 id="what-data-is-transferred-by-netconsole"><a href="#what-data-is-transferred-by-netconsole" aria-hidden="true" class="header-anchor">#</a> What data is transferred by netconsole?</h4> <p>The <em>netconsole</em> sends only OOPs-related messages from the kernel ring buffer. It doesn't transfer any sensitive data, such as usernames, encryption keys, paths, etc. So, there are no security problems you should worry about.</p> <h3 id="disabling-the-feature"><a href="#disabling-the-feature" aria-hidden="true" class="header-anchor">#</a> Disabling the feature</h3> <p>If you don't want to send us the data, you can turn the <em>netconsole</em> service off (we don't recommend it, though).
To disable transferring the data, just comment the <code>SYSLOGADDR</code> parameter in the <em>netconsole</em> config file (<code>/etc/sysconfig/netconsole</code>):</p> <div class="language- extra-class"><pre class="language-text"><code># For more information about this data transmission, check this page:
# https://cloudlinux.zendesk.com/hc/en-us/articles/360016481200
# SYSLOGADDR=sentrykernel.cloudlinux.com
</code></pre></div><p>And stop the <em>netconsole</em> service by running the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>service netconsole stop
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p><em>Netconsole</em> is used only for Kernel Panic Receiver, so disabling it doesn't lead to issues with other CloudLinux OS Shared services.</p></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/cloudlinux/cloudlinux-doc/edit/dev/docs/cloudlinux_os_kernel/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="back-to-top" data-v-c64d4a1e><a class="nav-arrow top back-to-top__link" data-v-c64d4a1e></a></div> </div> <div class="footer" data-v-671babf6><div data-v-671babf6><a href="https://cloudlinux.com" data-v-671babf6><img src="/assets/img/we-are-cloudlinux.783ed390.svg" alt="We are Cloudlinux" data-v-671babf6></a></div> <div class="footer-company-title" data-v-671babf6>2023. CloudLinux Inc</div> <div data-v-671babf6><div data-v-671babf6><a href="https://cloudlinux.zendesk.com/hc/en-us/categories/360002375940" target="_blank" data-v-671babf6>How to</a></div><div data-v-671babf6><a href="https://www.cloudlinux.com/getting-started-with-cloudlinux-os" target="_blank" data-v-671babf6>Getting started</a></div><div data-v-671babf6><a href="https://cloudlinux.zendesk.com/hc/en-us/requests/new" target="_blank" data-v-671babf6>Submit request</a></div><div data-v-671babf6><a href="https://blog.cloudlinux.com/" target="_blank" data-v-671babf6>Blog</a></div><div data-v-671babf6><a href="https://docs.solo.cloudlinux.com/" target="_blank" data-v-671babf6>CloudLinux OS Solo Documentation</a></div></div> <div class="social" data-v-671babf6><span class="footer-social-text" data-v-671babf6>Stay in touch</span> <a href="https://www.facebook.com/cloudlinux/" target="_blank" data-v-671babf6><img src="/fb.png" class="footer-social-logo" data-v-671babf6></a><a href="https://twitter.com/cloudlinuxos/" target="_blank" data-v-671babf6><img src="/tw.png" class="footer-social-logo" data-v-671babf6></a><a href="https://linkedin.com/company/cloudlinux" target="_blank" data-v-671babf6><img src="/in.png" class="footer-social-logo" data-v-671babf6></a><a href="https://www.youtube.com/channel/UCZ3YMHWnMP7TaxlXVay5-aw" target="_blank" data-v-671babf6><img src="/ytube.png" class="footer-social-logo" data-v-671babf6></a></div></div> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.287d6136.js" defer></script><script src="/assets/js/4.b561ef3b.js" defer></script><script src="/assets/js/1.f24c50a8.js" defer></script><script src="/assets/js/27.0d91c165.js" defer></script><script src="/assets/js/21.ccb55f44.js" defer></script>
  </body>
</html>
